(this.webpackJsonpclient_src=this.webpackJsonpclient_src||[]).push([[12],{383:function(e,t,a){"use strict";a.r(t);var s=a(112),n=a(12),r=a(2),o=a(3),l=a(5),i=a(4),d=a(0),c=a(23),u=a(9),p=a(47),h=a(113),f=a(438),m=a(696),b=a.n(m),j=a(372),O=a(111),g=a(10),P=a(470),v=a(440),T=a(499),x=a.n(T),S=a(461),y=a.n(S),E=a(425),w=a(454),_=a(6),C=a(7),F=a.n(C),I=a(457),z=a.n(I),k=a(1),N=["Puesto","Impresor","GrupoMaterial","CodNumera","Area","Lote","FullScreen","PesoManual"],B=_.a.getState().tabList[_.a.getState().tabActive].id,D={pesadaPlanta:"",pesadaPuesto:"",pesadaImpresora:"",pesadaTurno:"",pesadaProducto:"",pesobalanza:0,pesadaCantidadBolsa:0,palletNumero:0,pesadaArea:"",palletPeso:"0",estadobalanza:"",obspallet:"A la espera de An\xe1lisis",horaInicio:null,pesoManual:!1,valormanual:0,intervenido:!0,lote:"-",producto:{}},A=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).goFull=function(){o.setState(Object(n.a)(Object(n.a)({},o.state),{},{isFull:!o.state.isFull}))},o.handlerSelectChange=function(e){var t=e.target.name,a=e.target.value;o.setState(Object(n.a)(Object(n.a)({},o.state),{},{pesada:Object(n.a)(Object(n.a)({},o.state.pesada),{},Object(s.a)({},t,a))}),(function(){"pesadaPlanta"===t&&o.buscarTurnos(),"pesadaProducto"===t&&Object(E.o)(o.state.pesada.pesadaPlanta,a).then((function(e){o.setState(Object(n.a)(Object(n.a)({},o.state),{},{pesada:Object(n.a)(Object(n.a)({},o.state.pesada),{},{producto:e.data[0]})}))})),"pesadaPuesto"===t&&o.getActivity(),""!==o.state.pesada.pesadaPlanta&&""!==o.state.pesada.pesadaTurno&&""!==o.state.pesada.pesadaProducto&&""!==o.state.pesada.pesadaPuesto&&""!==o.state.pesada.pesadaImpresora&&o.setState(Object(n.a)(Object(n.a)({},o.state),{},{habilitado:!0}))}))},o.componentWillUnmount=function(){o.state.pesada.pesoManual||Object(E.O)()},o.componentDidMount=function(){F.a.all([Object(v.a)()]).then((function(e){o.setState(Object(n.a)(Object(n.a)({},o.state),{},{plantas:e[0].data}))})).catch((function(e){console.error(e.response),401===e.response.status?o.setState(Object(n.a)(Object(n.a)({},o.state),{},{ifYouCan:!1})):o.setState(Object(n.a)(Object(n.a)({},o.state),{},{msg:"ERROR al obtener las plantas",msgType:b.a.error}))}))},o.buscarTurnos=function(){F.a.all([Object(v.b)(o.state.pesada.pesadaPlanta),Object(w.f)(o.state.pesada.pesadaPlanta,B)]).then((function(e){Object(w.a)(e[1].data,N).then((function(t){t&&F.a.all([Object(E.p)(o.state.pesada.pesadaPlanta,e[1].data.filter((function(e){return e.descr===N[2]}))[0].valor)]).then((function(a){o.setState(Object(n.a)(Object(n.a)({},o.state),{},{turnos:e[0].data,pesada:Object(n.a)(Object(n.a)({},o.state.pesada),{},{lote:e[1].data.filter((function(e){return e.descr===N[5]}))[0].valor,area:e[1].data.filter((function(e){return e.descr===N[4]}))[0].valor,pesoManual:"1"===e[1].data.filter((function(e){return e.descr===N[7]}))[0].valor}),productos:a[0].data,puestos:e[1].data.filter((function(e){return e.descr===N[0]})),impresoras:e[1].data.filter((function(e){return e.descr===N[1]})),params:e[1].data,paramsOk:t,isFull:"1"===e[1].data.filter((function(e){return e.descr===N[6]}))[0].valor}),(function(){o.state.pesada.pesoManual||Object(E.N)("GREENPESADA",(function(e,t){null!==e&&o.setState(Object(n.a)(Object(n.a)({},o.state),{},{socketOk:!1})),(0!==t||0===t&&0!==o.state.pesada.pesobalanza)&&o.setState(Object(n.a)(Object(n.a)({},o.state),{},{pesada:Object(n.a)(Object(n.a)({},o.state.pesada),{},{pesobalanza:t})}))}))}))})).catch((function(e){console.error(e.response),401===e.response.status?o.setState(Object(n.a)(Object(n.a)({},o.state),{},{ifYouCan:!1})):o.setState(Object(n.a)(Object(n.a)({},o.state),{},{msg:"ERROR al obtener productos",msgType:b.a.error}))})),o.setState(Object(n.a)(Object(n.a)({},o.state),{},{paramsOk:t}))})).catch((function(e){console.error(e.response),401===e.response.status?o.setState(Object(n.a)(Object(n.a)({},o.state),{},{ifYouCan:!1})):o.setState(Object(n.a)(Object(n.a)({},o.state),{},{msg:"ERROR al obtener parametros",msgType:b.a.error}))}))}))},o.handlerPesar=function(){o.state.pesando?o.setState(Object(n.a)(Object(n.a)({},o.state),{},{pesando:!o.state.pesando,msg:"Pesada Cancelada",msgType:b.a.error})):F.a.all([Object(E.r)(o.state.pesada.pesadaPlanta,o.state.pesada.area,o.state.pesada.pesadaPuesto),Object(E.q)(o.state.pesada.pesadaPlanta,o.state.params.filter((function(e){return e.descr===N[3]}))[0].valor),Object(E.u)(o.state.pesada.pesadaPlanta,o.state.pesada.area,o.state.pesada.pesadaPuesto)]).then((function(e){0===e[2].data.length?Object(E.F)({idPlanta:parseInt(o.state.pesada.pesadaPlanta),numpal:parseInt(e[1].data[0].ultusado)+1,idArea:parseInt(o.state.pesada.area),ptoPes:parseInt(o.state.pesada.pesadaPuesto),fechorPes:z()().subtract((new Date).getTimezoneOffset()/60,"hour").toISOString().replace("Z","").replace("T"," "),idTurno:parseInt(o.state.pesada.pesadaTurno),idProd:o.state.pesada.pesadaProducto,unidades:0,taraPal:0,taraBolsa:0,kneto:0,kbruto:0,fecProd:z()().subtract((new Date).getTimezoneOffset()/60,"hour").toISOString().replace("Z","").replace("T"," "),fecCong:z()().subtract((new Date).getTimezoneOffset()/60,"hour").toISOString().replace("Z","").replace("T"," "),fecVenc:z()().subtract((new Date).getTimezoneOffset()/60,"hour").toISOString().replace("Z","").replace("T"," "),idUsuario:parseInt(_.a.getState().userid.toString()),lote:o.state.pesada.lote,horaAper:z()().subtract((new Date).getTimezoneOffset()/60,"hour").toISOString().replace("Z","").replace("T"," "),horaCierre:z()().subtract((new Date).getTimezoneOffset()/60,"hour").toISOString().replace("Z","").replace("T"," "),idEstado:1,intervenido:!0,retenido:!1,obspallet:"",obsretenido:"",obsintervenido:""}).then((function(t){Object(E.E)(o.state.params.filter((function(e){return e.descr===N[3]}))[0].valor,Object(n.a)(Object(n.a)({},e[1].data[0]),{},{numdde:parseInt(e[1].data[0].numdde),numhta:parseInt(e[1].data[0].numhta),ultusado:parseInt(e[1].data[0].ultusado)+1})).then((function(t){o.setState(Object(n.a)(Object(n.a)({},o.state),{},{msg:"Pesando...",msgType:b.a.blink,ultimosPallet:e[0].data,pesando:!o.state.pesando,pesada:Object(n.a)(Object(n.a)({},o.state.pesada),{},{horaInicio:z()().subtract((new Date).getTimezoneOffset()/60,"hour").toISOString().replace("Z","").replace("T"," "),palletNumero:e[1].data[0]})}))}))})):o.setState(Object(n.a)(Object(n.a)({},o.state),{},{msg:"Pesando...",msgType:b.a.blink,ultimosPallet:e[0].data,pesando:!o.state.pesando,pesada:Object(n.a)(Object(n.a)({},o.state.pesada),{},{horaInicio:z()().subtract((new Date).getTimezoneOffset()/60,"hour").toISOString().replace("Z","").replace("T"," "),palletNumero:e[2].data[0]})}))})).catch((function(e){o.setState(Object(n.a)(Object(n.a)({},o.state),{},{msg:"ERROR al iniciar la pesada",msgType:b.a.error})),console.error(e)}))},o.handlerCerrarPallet=function(){var e=o.state.productos.filter((function(e){return e.codsap===o.state.pesada.pesadaProducto}));if(0!==o.state.pesada.pesadaCantidadBolsa){if(o.state.pesada.pesoManual){if(parseFloat(o.state.pesada.valormanual/o.state.pesada.pesadaCantidadBolsa)<parseFloat(o.state.pesada.producto.pesmin)||parseFloat(o.state.pesada.valormanual/o.state.pesada.pesadaCantidadBolsa)>parseFloat(o.state.pesada.producto.pesmax))return void o.setState(Object(n.a)(Object(n.a)({},o.state),{},{msg:"El peso promedio de bolsa es erroneo. Por Favor Verifique",msgType:b.a.error}))}else if(parseFloat(o.state.pesada.pesobalanza/o.state.pesada.pesadaCantidadBolsa)<parseFloat(o.state.pesada.producto.pesmin)||parseFloat(o.state.pesada.pesobalanza/o.state.pesada.pesadaCantidadBolsa)>parseFloat(o.state.pesada.producto.pesmax))return void o.setState(Object(n.a)(Object(n.a)({},o.state),{},{msg:"El peso promedio de bolsa es erroneo. Por Favor Verifique",msgType:b.a.error}));console.log(o.state.pesada),Object(E.a)({idPlanta:parseInt(o.state.pesada.pesadaPlanta),numpal:o.state.pesada.palletNumero.ultusado?parseInt(o.state.pesada.palletNumero.ultusado)+1:parseInt(o.state.pesada.palletNumero.numpal),idArea:parseInt(o.state.pesada.area),ptoPes:parseInt(o.state.pesada.pesadaPuesto),fechorPes:z()().subtract((new Date).getTimezoneOffset()/60,"hour").toISOString().replace("Z","").replace("T"," "),idTurno:parseInt(o.state.pesada.pesadaTurno),idProd:o.state.pesada.pesadaProducto,unidades:parseInt(o.state.pesada.pesadaCantidadBolsa),taraPal:0,taraBolsa:parseFloat(e[0].taraBolsa),kneto:o.state.pesada.pesoManual?parseFloat(o.state.pesada.valormanual):parseFloat(o.state.pesada.pesobalanza),kbruto:o.state.pesada.pesoManual?parseFloat(o.state.pesada.valormanual):parseFloat(o.state.pesada.pesobalanza),fecProd:z()().subtract((new Date).getTimezoneOffset()/60,"hour").toISOString().replace("Z","").replace("T"," "),fecCong:z()().subtract((new Date).getTimezoneOffset()/60,"hour").toISOString().replace("Z","").replace("T"," "),fecVenc:z()().subtract((new Date).getTimezoneOffset()/60,"hour").toISOString().replace("Z","").replace("T"," "),idUsuario:parseInt(_.a.getState().userid.toString()),lote:o.state.pesada.lote,horaAper:o.state.pesada.horaInicio,horaCierre:z()().subtract((new Date).getTimezoneOffset()/60,"hour").toISOString().replace("Z","").replace("T"," "),idEstado:2,intervenido:!0,retenido:!1,obspallet:o.state.pesada.obspallet,obsretenido:"",obsintervenido:""}).then((function(t){Object(E.G)({idPlanta:parseInt(o.state.pesada.pesadaPlanta),numpal:o.state.pesada.palletNumero.ultusado?parseInt(o.state.pesada.palletNumero.ultusado)+1:parseInt(o.state.pesada.palletNumero.numpal),idArea:parseInt(o.state.pesada.area),ptoPes:parseInt(o.state.pesada.pesadaPuesto),fechorPes:z()().subtract((new Date).getTimezoneOffset()/60,"hour").toISOString().replace("Z","").replace("T"," "),idTurno:parseInt(o.state.pesada.pesadaTurno),idProd:o.state.pesada.pesadaProducto,unidades:parseInt(o.state.pesada.pesadaCantidadBolsa),taraPal:0,taraBolsa:parseFloat(e[0].taraBolsa),kneto:o.state.pesada.pesoManual?parseFloat(o.state.pesada.valormanual):parseFloat(o.state.pesada.pesobalanza),kbruto:o.state.pesada.pesoManual?parseFloat(o.state.pesada.valormanual):parseFloat(o.state.pesada.pesobalanza),fecProd:z()().subtract((new Date).getTimezoneOffset()/60,"hour").toISOString().replace("Z","").replace("T"," "),fecCong:z()().subtract((new Date).getTimezoneOffset()/60,"hour").toISOString().replace("Z","").replace("T"," "),fecVenc:z()().subtract((new Date).getTimezoneOffset()/60,"hour").toISOString().replace("Z","").replace("T"," "),idUsuario:parseInt(_.a.getState().userid.toString()),lote:o.state.pesada.lote,horaAper:o.state.pesada.horaInicio,horaCierre:z()().subtract((new Date).getTimezoneOffset()/60,"hour").toISOString().replace("Z","").replace("T"," "),secuencia:0,idTipomov:1,numbal:0,idEstado:1}).then((function(e){o.setState(Object(n.a)(Object(n.a)({},o.state),{},{msg:"Pallet Cerrado",pesada:Object(n.a)(Object(n.a)({},o.state.pesada),{},{pesobalanza:0,pesadaCantidadBolsa:0,palletNumero:0,palletPeso:"0",estadobalanza:"",obspallet:"A la espera de An\xe1lisis",horaInicio:null,valormanual:0,intervenido:!0}),msgType:b.a.success,pesando:!o.state.pesando}),(function(){o.getActivity()}))})).catch((function(e){o.setState(Object(n.a)(Object(n.a)({},o.state),{},{msg:"ERROR al cerrar el pallet",msgType:b.a.error})),console.error(e)}))})).catch((function(e){o.setState(Object(n.a)(Object(n.a)({},o.state),{},{msg:"ERROR al cerrar el pallet",msgType:b.a.error})),console.error(e)}))}else o.setState({msg:"La Cantidad de bolsas debe ser mayor a 0",msgType:b.a.error})},o.handlerInputChange=function(e){var t=e.target.name,a=e.target.value;o.setState(Object(n.a)(Object(n.a)({},o.state),{},{pesada:Object(n.a)(Object(n.a)({},o.state.pesada),{},Object(s.a)({},t,a))}))},o.state={isFull:!1,ifYouCan:!0,ifYouAddPermission:!1,wait:!1,habilitado:!1,pesando:!1,socketOk:!0,pesada:Object(n.a)({},D),ultimosPallet:[],plantas:[],impresoras:[],turnos:[],productos:[],puestos:[],paramsOk:null,msg:""},o}return Object(o.a)(a,[{key:"getActivity",value:function(){var e=this;Object(E.r)(this.state.pesada.pesadaPlanta,this.state.pesada.area,this.state.pesada.pesadaPuesto).then((function(t){e.setState(Object(n.a)(Object(n.a)({},e.state),{},{ultimosPallet:t.data}))}))}},{key:"render",value:function(){var e=this;return this.state.ifYouCan?!0===this.state.paramsOk||null===this.state.paramsOk?Object(k.jsx)(x.a,{enabled:this.state.isFull,onChange:function(t){return e.setState(Object(n.a)(Object(n.a)({},e.state),{},{isFull:t}))},children:Object(k.jsxs)(c.a,{direction:"column",margin:"0",children:[Object(k.jsxs)(u.a,{width:"100%",children:[Object(k.jsx)("div",{className:b.a.title,children:Object(k.jsxs)("div",{className:b.a.titleText,children:[this.props.t("greentrz.PuestoSemi"),Object(k.jsx)("span",{className:b.a.msg,children:Object(k.jsx)("div",{className:this.state.msgType,children:this.props.t(this.state.msg)})}),Object(k.jsx)(O.a,{styleType:"outline",classes:b.a.fullscreenBtn,visible:!0,loading:this.state.wait,disabled:this.state.wait,id:"pesarfullscreen",icon:this.state.isFull?"chevron-down":"chevron-up",onPress:this.goFull})]})}),Object(k.jsx)("div",{className:b.a.icon,children:Object(k.jsx)("img",{src:P.a,alt:"Pallet"})})]}),Object(k.jsx)(u.a,{width:"100%",height:"auto",padding:"5px",margin:"0 0 20px 0",children:Object(k.jsxs)(f.a,{title:this.props.t("general.configuracion"),classes:b.a.group,children:[Object(k.jsxs)(u.a,{width:"49%",padding:"5px",children:[Object(k.jsx)(h.a,{id:"pesadaPlanta",label:this.props.t("general.planta"),items:this.state.plantas,itemId:"id",disabled:this.state.pesando,itemText:"descripcion",value:this.state.pesada.pesadaPlanta,onSelect:this.handlerSelectChange}),Object(k.jsx)(h.a,{id:"pesadaTurno",label:this.props.t("general.turno"),items:this.state.turnos,itemId:"id",itemText:"descr",disabled:this.state.pesando,value:this.state.pesada.pesadaTurno,onSelect:this.handlerSelectChange}),Object(k.jsx)(h.a,{id:"pesadaPuesto",label:this.props.t("general.puesto"),items:this.state.puestos,itemId:"id",itemText:"valor",disabled:this.state.pesando,value:this.state.pesada.pesadaPuesto,onSelect:this.handlerSelectChange})]}),Object(k.jsxs)(u.a,{width:"49%",height:"100%",padding:"5px",children:[Object(k.jsx)(h.a,{id:"pesadaProducto",label:this.props.t("general.producto"),items:this.state.productos,itemId:"codsap",itemText:["codsap","descrMat"],disabled:this.state.pesando,value:this.state.pesada.pesadaroducto,onSelect:this.handlerSelectChange}),Object(k.jsx)(h.a,{id:"pesadaImpresora",label:this.props.t("general.impresora"),items:this.state.impresoras,itemId:"id",itemText:"valor",disabled:this.state.pesando,value:this.state.pesada.pesadaImpresora,onSelect:this.handlerSelectChange}),Object(k.jsx)(O.a,{width:"100%",margin:"0",visible:!0,styleType:"success",loading:this.state.wait,disabled:!this.state.habilitado,text:this.state.pesando?this.props.t("greentrz.stopPesada"):this.props.t("greentrz.habilitarPesada"),id:"pesar",icon:this.state.pesando?"stop":"play",onPress:this.handlerPesar})]})]})}),Object(k.jsxs)(c.a,{classes:b.a.container,width:"100%",height:"calc(100% - 23rem)",direction:"row",children:[Object(k.jsx)(u.a,{width:"50%",height:"auto",padding:"5px",minHeight:"290px",children:Object(k.jsx)(f.a,{title:this.props.t("greentrz.UltimosPallet"),columns:!0,disabled:!this.state.pesando,height:"100%",overflow:"auto",classes:b.a.groupPesada,children:Object(k.jsx)("ul",{className:b.a.listaPallet,children:this.state.ultimosPallet.map((function(e){return Object(k.jsxs)("li",{children:[e.numpal,Object(k.jsxs)("small",{children:[" ","-"," ",Object(k.jsx)(y.a,{format:"DD/MM/YYYY HH:mm:ss",children:e.horaCierre})]}),Object(k.jsxs)("b",{children:[e.idProd," - ",e.unidades," un. -",Intl.NumberFormat("es-ES").format(e.kbruto),"kg"]})]},e.numpal)}))})})}),Object(k.jsx)(u.a,{width:"50%",height:"auto",padding:"0px",children:Object(k.jsxs)(c.a,{classes:b.a.container,width:"100%",height:"100%",direction:"column",children:[Object(k.jsx)(u.a,{width:"100%",height:"60%",padding:"5px",minHeight:"145px",children:Object(k.jsxs)(f.a,{height:"100%",title:this.props.t("greentrz.PesadaActual"),classes:b.a.group,disabled:!this.state.pesando,children:[Object(k.jsxs)(c.a,{classes:b.a.container,width:"100%",height:"33%",direction:"row",alignItems:"center",children:[Object(k.jsx)(u.a,{width:"50%",height:"auto",children:Object(k.jsxs)("div",{className:b.a.numPallet,children:["PALLET N\xb0",Object(k.jsx)("div",{children:this.state.pesada.palletNumero.ultusado?parseInt(this.state.pesada.palletNumero.ultusado)+1:this.state.pesada.palletNumero.numpal?parseInt(this.state.pesada.palletNumero.numpal):"-"})]})}),Object(k.jsx)(u.a,{width:"50%",height:"auto",children:Object(k.jsxs)("div",{className:b.a.numPallet,children:["LOTE N\xb0",Object(k.jsx)("div",{children:this.state.pesada.lote})]})})]}),Object(k.jsxs)(c.a,{classes:b.a.container,width:"100%",height:"33%",direction:"row",alignItems:"center",children:[Object(k.jsx)(u.a,{width:"50%",height:"auto",children:this.state.pesada.producto.descrMat||""}),Object(k.jsxs)(c.a,{classes:b.a.container,width:"55%",height:"33%",direction:"row",alignItems:"center",children:[Object(k.jsx)(u.a,{width:"33%",height:"auto",children:Object(k.jsxs)("div",{className:b.a.detalleBolsas,children:["MIN.",Object(k.jsx)("div",{children:Intl.NumberFormat("es-ES").format(this.state.pesada.producto.pesmin||0)})]})}),Object(k.jsx)(u.a,{width:"33%",height:"auto",children:Object(k.jsxs)("div",{className:[b.a.detalleBolsas,0!==this.state.pesada.pesadaCantidadBolsa?this.state.pesada.pesoManual?parseFloat(this.state.pesada.valormanual/this.state.pesada.pesadaCantidadBolsa)<parseFloat(this.state.pesada.producto.pesmin)||parseFloat(this.state.pesada.valormanual/this.state.pesada.pesadaCantidadBolsa)>parseFloat(this.state.pesada.producto.pesmax)?b.a.error:b.a.success:parseFloat(this.state.pesada.producto.pesmin)<parseFloat(this.state.pesada.pesobalanza/this.state.pesada.pesadaCantidadBolsa)||parseFloat(this.state.pesada.pesobalanza/this.state.pesada.pesadaCantidadBolsa)>parseFloat(this.state.pesada.producto.pesmax)?b.a.error:b.a.success:b.a.error].join(" "),children:["PESO PROM.",Object(k.jsx)("div",{children:Intl.NumberFormat("es-ES").format(0!==this.state.pesada.pesadaCantidadBolsa?this.state.pesada.pesoManual?parseFloat(this.state.pesada.valormanual/this.state.pesada.pesadaCantidadBolsa).toFixed(3):parseFloat(this.state.pesada.pesobalanza/this.state.pesada.pesadaCantidadBolsa).toFixed(3):0)})]})}),Object(k.jsx)(u.a,{width:"33%",height:"auto",children:Object(k.jsxs)("div",{className:b.a.detalleBolsas,children:["MAX.",Object(k.jsx)("div",{children:Intl.NumberFormat("es-ES").format(this.state.pesada.producto.pesmax||0)})]})})]})]}),Object(k.jsx)(c.a,{classes:b.a.container,width:"30%",height:"33%",direction:"row",alignItems:"center",justifyContent:"center",children:Object(k.jsx)(u.a,{width:"100%",height:"auto",children:Object(k.jsx)("div",{className:b.a.detalleBolsas,children:Object(k.jsx)(p.a,{id:"pesadaCantidadBolsa",label:this.props.t("greentrz.cantbolasa"),type:"number",value:this.state.pesada.pesadaCantidadBolsa,onChange:this.handlerInputChange,classes:b.a.inputs})})})}),Object(k.jsx)(c.a,{classes:b.a.container,width:"70%",height:"33%",direction:"row",alignItems:"center",justifyContent:"center",children:Object(k.jsx)(u.a,{width:"90%",height:"auto",children:Object(k.jsx)("div",{className:b.a.detalleBolsas,children:Object(k.jsx)(p.a,{id:"obspallet",label:this.props.t("greentrz.obspallet"),type:"text",value:this.state.pesada.obspallet,onChange:this.handlerInputChange,classes:b.a.inputs})})})})]})}),Object(k.jsx)(u.a,{width:"100%",height:"40%",padding:"5px",minHeight:"145px",children:Object(k.jsxs)(f.a,{columns:!0,height:"100%",title:this.state.pesada.pesoManual?this.props.t("greentrz.PesoManual"):this.props.t("greentrz.PesoBalanza"),disabled:!this.state.pesando,classes:b.a.groupPesada,children:[Object(k.jsx)("div",{className:b.a.topheader,children:this.state.pesada.pesoManual?"":Object(k.jsxs)("div",{className:b.a.estadoBalanza,children:["BALANZA: ",this.state.pesada.estadobalanza]})}),Object(k.jsx)("div",{className:b.a.peso,children:this.state.pesada.pesoManual?Object(k.jsxs)("div",{children:[Object(k.jsx)(p.a,{id:"valormanual",type:"number",value:this.state.pesada.valormanual,onChange:function(t){return e.setState(Object(n.a)(Object(n.a)({},e.state),{},{pesada:Object(n.a)(Object(n.a)({},e.state.pesada),{},{valormanual:t.target.value})}))}})," ",Object(k.jsx)("span",{children:"kg"})]}):Object(k.jsxs)("div",{children:[Intl.NumberFormat("es-ES").format(this.state.pesada.pesobalanza)," ","kg"]})}),Object(k.jsx)(O.a,{width:"100%",heigh:"100%",visible:!0,styleType:"success",loading:this.state.wait,disabled:""===this.state.pesada.pesadaPlanta,text:this.props.t("greentrz.cerrarPallet"),id:"cerrarPallet",icon:"save",onPress:this.handlerCerrarPallet})]})})]})})]})]})}):Object(k.jsx)(c.a,{direction:"columns",padding:"0",margin:"0",wrap:"wrap",children:Object(k.jsx)(u.a,{height:"100vh",children:Object(k.jsx)(g.c,{icon:"need_param",title:this.props.t("error.needParamsTitle"),message:this.props.t("error.needParamsExplain"),data:N.join(", ")})})}):Object(k.jsx)(c.a,{direction:"columns",padding:"0",margin:"0",wrap:"wrap",children:Object(k.jsx)(u.a,{height:"100vh",children:Object(k.jsx)(g.c,{icon:"401",title:this.props.t("error.noAuth"),message:this.props.t("error.noAuthMessage")})})})}}]),a}(d.PureComponent);t.default=Object(j.a)()(A)},425:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"d",(function(){return j})),a.d(t,"c",(function(){return O})),a.d(t,"b",(function(){return k})),a.d(t,"C",(function(){return x})),a.d(t,"e",(function(){return q})),a.d(t,"f",(function(){return N})),a.d(t,"g",(function(){return B})),a.d(t,"A",(function(){return V})),a.d(t,"i",(function(){return z})),a.d(t,"j",(function(){return c})),a.d(t,"B",(function(){return v})),a.d(t,"k",(function(){return A})),a.d(t,"l",(function(){return D})),a.d(t,"m",(function(){return _})),a.d(t,"n",(function(){return C})),a.d(t,"o",(function(){return p})),a.d(t,"p",(function(){return u})),a.d(t,"s",(function(){return P})),a.d(t,"q",(function(){return h})),a.d(t,"r",(function(){return g})),a.d(t,"u",(function(){return S})),a.d(t,"t",(function(){return E})),a.d(t,"w",(function(){return J})),a.d(t,"x",(function(){return H})),a.d(t,"y",(function(){return U})),a.d(t,"z",(function(){return G})),a.d(t,"E",(function(){return w})),a.d(t,"F",(function(){return f})),a.d(t,"G",(function(){return m})),a.d(t,"J",(function(){return R})),a.d(t,"I",(function(){return Z})),a.d(t,"K",(function(){return I})),a.d(t,"L",(function(){return Y})),a.d(t,"M",(function(){return M})),a.d(t,"N",(function(){return i})),a.d(t,"O",(function(){return d})),a.d(t,"h",(function(){return F})),a.d(t,"D",(function(){return T})),a.d(t,"v",(function(){return y})),a.d(t,"H",(function(){return L}));var s=a(448),n=a.n(s),r=a(7),o=a.n(r),l=null;function i(e,t){(l=n()("http://localhost:1212")).on("connect_error",(function(e){return t(e,null)})),l.on("pesobalanza",(function(e){return t(null,e)})),l.on("miestado",(function(e){return t(null,e)})),l.on("estadoBalanza",(function(e){return t(null,e)})),l.emit("myTransactionName",e),l.emit("subscribeGetPesoBal",300),console.log("subscribe",l)}function d(){var e,t;console.log("Unsubscribing",l),null===(e=l)||void 0===e||e.disconnect(),null===(t=l)||void 0===t||t.destroy()}function c(e){return o()({method:"GET",url:'../as-productos?filter={"where":{"idPlanta":'+e+"}}"})}function u(e,t){return o()({method:"GET",url:'../as-productos?filter={"where":{"idPlanta":'+e+',"idGrpmat":'+t+"}}"})}function p(e,t){return o()({method:"GET",url:'../as-productos?filter={"where":{"idPlanta":'+e+',"codsap":'+t+"}}"})}function h(e,t){return o()({method:"GET",url:'../cod-numeras?filter={"where":{"id":'+t+',"idPlanta":'+e+"}}"})}function f(e){return o()({method:"POST",url:"../as-detipals",data:e,headers:{"Content-Type":"application/json"}})}function m(e){return o()({method:"POST",url:"../as-hdetipals",data:e,headers:{"Content-Type":"application/json"}})}function b(e){return o()({method:"PUT",url:"../greentrz/"+e.idPlanta+"/"+e.numpal+"/"+e.idArea,data:e,headers:{"Content-Type":"application/json"}})}function j(e,t){return o()({method:"POST",url:"../greentrz/consumo-total/"+e.idNumpal+"/"+t,data:e,headers:{"Content-Type":"application/json"}})}function O(e,t){return o()({method:"POST",url:"../greentrz/consumo-parcial/"+e.idNumpal+"/"+t,data:e,headers:{"Content-Type":"application/json"}})}function g(e,t,a){return o()({method:"GET",url:'../as-detipals?filter={"limit": 10,"skip": 0,"order": ["numpal DESC","fec_prod DESC"],"where":{"idPlanta":'+e+',"idArea":'+t+',"ptoPes":'+a+',"idEstado":2}}'})}function P(e,t,a){return o()({method:"GET",url:'../as-detipals?filter={"limit": 10,"skip": 0,"order": ["numpal DESC","fec_prod DESC"],"where":{"idPlanta":'+e+',"idArea":'+t+',"ptoPes":'+a+',"idEstado":5}}'})}function v(e,t){return o()({method:"GET",url:"../greentrz/totalAConsumir/"+e+"/"+t})}function T(e,t){return o()({method:"GET",url:"../greentrz/totalProducidoFinal/"+e+"/"+t})}function x(e,t){return o()({method:"GET",url:"../greentrz/totalConsumidoFinal/"+e+"/"+t})}function S(e,t,a){return o()({method:"GET",url:'../as-detipals?filter={"limit": 1,"skip": 0,"order": ["numpal DESC"],"where":{"idPlanta":'+e+',"idArea":'+t+',"idEstado":1}}'})}function y(e,t,a){return o()({method:"GET",url:'../as-detipals?filter={"limit": 1,"skip": 0,"order": ["numpal DESC"],"where":{"idPlanta":'+e+',"idArea":'+t+',"idEstado":4}}'})}function E(e,t,a){return o()({method:"GET",url:'../as-conspals?filter={"limit": 15,"skip": 0,"order": ["hcierr DESC"],"where":{"idPlanta":'+e+',"idArea":'+t+',"ptoPes":'+a+',"idEstado":12}}'})}function w(e,t){return o()({method:"PUT",url:"../cod-numeras/"+e,data:t,headers:{"Content-Type":"application/json"}})}function _(e,t,a){return o()({method:"GET",url:"../greentrz/pallets/"+e+"/"+t+"/"+a})}function C(e){return o()({method:"GET",url:"../greentrz/palletsByNumpal/"+e})}function F(e,t,a){return o()({method:"DELETE",url:"../greentrz/pallet/"+e+"/"+t+"/"+a})}function I(e){return o()({method:"PUT",url:"../greentrz/remanejar/"+e.numpal,data:e})}function z(){return o()({method:"GET",url:"../param-cams"})}function k(e){return o()({method:"POST",url:"../param-cams/",data:e,headers:{"Content-Type":"application/json"}})}function N(e){return o()({method:"PUT",url:"../param-cams/"+e.id,data:e,headers:{"Content-Type":"application/json"}})}function B(e){return o()({method:"DELETE",url:"../param-cams/"+e,headers:{"Content-Type":"application/json"}})}function D(e){return o()({method:"GET",url:'../param-cams?filter={"where":{"idPlanta":'+e+"}}"})}function A(e){return o()({method:"GET",url:'../as-detipals?filter={"where":{"idPlanta":'+e+"}}"})}function G(e,t){return o()({method:"GET",url:"../as-pospal/getPositionPallet/"+e+"/"+t})}function M(e){return o()({method:"POST",url:"../as-pospals",data:e,headers:{"Content-Type":"application/json"}})}function R(e){return o()({method:"PUT",url:"../as-pospals/"+e.id,data:e,headers:{"Content-Type":"application/json"}})}function L(e){return o()({method:"POST",url:"../as-hpospals/",data:e,headers:{"Content-Type":"application/json"}})}function Z(e,t){return o()({method:"PUT",url:"../as-detipal/estado-pallet/"+e+"/"+t,headers:{"Content-Type":"application/json"}})}function q(e){return o()({method:"DELETE",url:"../as-pospals/"+e,headers:{"Content-Type":"application/json"}})}function U(e){return o()({method:"GET",url:"../camaras/getPalletsInCamaras/"+e})}function Y(e,t){return o()({method:"GET",url:"../camaras/getPalletInCamara/"+e+"/"+t})}function H(e,t){return o()({method:"GET",url:"../as-detipal/getPalletDesasociados/"+e+"/"+t})}function J(e){return o()({method:"GET",url:"../as-detipal/pallets-a-consumir/"+e})}function V(e){return o()({method:"GET",url:'../prodfamilias?filter={"where":{"idPlanta":'+e+"}}"})}},438:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var s=a(2),n=a(3),r=a(5),o=a(4),l=a(0),i=a(439),d=a.n(i),c=a(1),u=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).createStyles=function(){var t=[d.a.content];return e.props.classes&&t.push(e.props.classes),t.join(" ")},e}return Object(n.a)(a,[{key:"render",value:function(){var e={width:"auto",height:"auto"};return this.props.position&&(e.position=this.props.position),this.props.top&&(e.top=this.props.top),this.props.left&&(e.left=this.props.left),this.props.right&&(e.right=this.props.right),this.props.bottom&&(e.bottom=this.props.bottom),this.props.margin&&(e.margin=this.props.margin),this.props.padding&&(e.padding=this.props.padding),this.props.width&&(e.width=this.props.width),this.props.height&&(e.height=this.props.height),this.props.overflow&&(e.overflow=this.props.overflow),this.props.minHeight&&(e.minHeight=this.props.minHeight),this.props.disabled?Object(c.jsxs)("div",{className:d.a.framedisable,style:e,children:[Object(c.jsx)("span",{className:d.a.title,children:this.props.title}),Object(c.jsx)("div",{className:this.createStyles(),children:this.props.children})]}):Object(c.jsxs)("div",{className:d.a.frame,style:e,children:[Object(c.jsx)("span",{className:d.a.title,children:this.props.title}),Object(c.jsx)("div",{className:this.createStyles(),children:this.props.children})]})}}]),a}(l.PureComponent)},439:function(e,t,a){e.exports={frame:"styles_frame__25tn_",columns:"styles_columns__3Pn4b",title:"styles_title__1TbAA",content:"styles_content__2umkp",framedisable:"styles_framedisable__3jgiF"}},440:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return r}));var s=a(7),n=a.n(s);function r(){return n()({method:"GET",url:"../plantas"})}function o(e){return n()({method:"GET",url:'../prd-turnos?filter={"where":{"idPlanta":'+e+"}}"})}},454:function(e,t,a){"use strict";a.d(t,"e",(function(){return d})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"d",(function(){return h})),a.d(t,"f",(function(){return c})),a.d(t,"a",(function(){return f}));var s=a(455),n=a.n(s),r=a(456),o=a(7),l=a.n(o);function i(e,t){return e.reduce((function(e,a){return(e[a[t]]=e[a[t]]||[]).push(a),e}),{})}function d(){return l()({method:"GET",url:"../trxparams?filter[include][0][relation]=planta&filter[include][1][relation]=trx"})}function c(e,t){return l()({method:"GET",url:'../trxparams?filter={"where":{"id_planta":'+e+',"id_trx":'+t+"}}"})}function u(e){return l()({method:"POST",url:"../trxparams",data:e})}function p(e){return l()({method:"PUT",url:"../trxparams/"+e.id,data:e})}function h(e){return l()({method:"DELETE",url:"../trxparams/"+e})}function f(e,t){return m.apply(this,arguments)}function m(){return(m=Object(r.a)(n.a.mark((function e(t,a){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,i(t,"descr");case 4:if(s=e.sent,Object.keys(s).length===a.length){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",Object.keys(s).every((function(e){return a.includes(e)})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},470:function(e,t,a){"use strict";t.a=a.p+"static/media/pallet.c6ae7989.svg"},499:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),n=a(0),r=i(n),o=i(a(13)),l=i(a(500));function i(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.fullScreenElement=null,a.detectFullScreen=a.detectFullScreen.bind(a),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"componentDidMount",value:function(){l.default.addEventListener("fullscreenchange",this.detectFullScreen)}},{key:"componentWillUnmount",value:function(){l.default.removeEventListener("fullscreenchange",this.detectFullScreen)}},{key:"componentDidUpdate",value:function(){this.handleProps(this.props)}},{key:"handleProps",value:function(e){var t=l.default.fullscreenElement===this.node;t&&!e.enabled?this.leaveFullScreen():!t&&e.enabled&&this.enterFullScreen()}},{key:"detectFullScreen",value:function(){l.default.fullscreenElement===this.node?(this.fullScreenElement=l.default.fullscreenElement,this.props.onChange(!0)):!l.default.fullscreenElement&&this.fullScreenElement&&(this.fullScreenElement=null,this.props.onChange(!1))}},{key:"enterFullScreen",value:function(){l.default.fullscreenEnabled&&l.default.requestFullscreen(this.node)}},{key:"leaveFullScreen",value:function(){l.default.fullscreenEnabled&&l.default.exitFullscreen()}},{key:"render",value:function(){var e=this,t=["fullscreen"];return this.props.enabled&&t.push("fullscreen-enabled"),r.default.createElement("div",{className:t.join(" "),ref:function(t){return e.node=t},style:this.props.enabled?{height:"100%",width:"100%"}:void 0},this.props.children)}}]),t}(n.Component);d.propTypes={children:o.default.node.isRequired,enabled:o.default.bool.isRequired,onChange:o.default.func},d.defaultProps={enabled:!1,onChange:function(){}},t.default=d},500:function(e,t,a){"use strict";a.r(t);var s={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},n=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],r=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],o=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],l="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},i="fullscreenEnabled"in l&&Object.keys(s)||n[0]in l&&n||r[0]in l&&r||o[0]in l&&o||[],d={requestFullscreen:function(e){return e[i[s.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[i[s.requestFullscreen]]},get exitFullscreen(){return l[i[s.exitFullscreen]].bind(l)},get fullscreenPseudoClass(){return":"+i[s.fullscreen]},addEventListener:function(e,t,a){return l.addEventListener(i[s[e]],t,a)},removeEventListener:function(e,t,a){return l.removeEventListener(i[s[e]],t,a)},get fullscreenEnabled(){return Boolean(l[i[s.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return l[i[s.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return l[("on"+i[s.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return l[("on"+i[s.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return l[("on"+i[s.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return l[("on"+i[s.fullscreenerror]).toLowerCase()]=e}};t.default=d},696:function(e,t,a){e.exports={form:"styles_form__3UDDW",icon:"styles_icon__1n3f2",shadow:"styles_shadow__30k4U",title:"styles_title__FQFjr",titleText:"styles_titleText__xh2JR",eliminar:"styles_eliminar__1oeG5",detail:"styles_detail__5B5aJ",combos:"styles_combos__MEjXS",fullscreenBtn:"styles_fullscreenBtn__1yKna",topheader:"styles_topheader__NNyvD",numPallet:"styles_numPallet__BnsUa",detalleBolsas:"styles_detalleBolsas__2KKt0",estadoBalaza:"styles_estadoBalaza__2RJ7z",peso:"styles_peso__q7Jgj",bolsas:"styles_bolsas__GBdmD",groupPesada:"styles_groupPesada__3NvbY",marginBottom:"styles_marginBottom__iS5Au",listaPallet:"styles_listaPallet__dOd4J",msg:"styles_msg__2qiXz",error:"styles_error__1CX6i",success:"styles_success__WTjAs",blink:"styles_blink__1H5-E","blink-animation":"styles_blink-animation__26nZd",inputs:"styles_inputs__17QLq"}}}]);
//# sourceMappingURL=12.92ba607f.chunk.js.map