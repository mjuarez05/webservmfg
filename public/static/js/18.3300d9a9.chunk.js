(this.webpackJsonpclient_src=this.webpackJsonpclient_src||[]).push([[18],{389:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(3),o=a(28),i=a(5),s=a(4),l=a(0),c=a(23),u=a(9),d=a(425),p=a(372),f=a(15),h=a(10),m=a(469),g=(a(442),a(947)),j=a.n(g),T=a(111),b=a(47),P=a(461),_=a.n(P),x=a(1),E=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handlerSelectChange=function(e){r.setState({productoSelect:e.target.value})},r.getData=function(){var e=Object(o.a)(r);Object(d.y)(1041).then((function(t){e.setState({pallets:t.data})})).catch((function(t){console.error(t.response),401===t.response.status&&e.setState({ifYouCan:!1})}))},r.componentDidMount=function(){r.getData()},r.handlerInputChange=function(e){r.setState({search:e.target.value})},r.handleKeyPress=function(e){"Enter"===e.key&&r.handlerSearchProducto()},r.handlerGridAction=function(e,t,a,n){return""===a.Header?{onClick:function(e){r.setState({remanejar:!0,numpal:t.original.numpal})}}:{}},r.handlerSearchPallet=function(){""!==r.state.search?r.setState({wait:!0},(function(){Object(d.L)(1041,r.state.search).then((function(e){r.setState({pallets:e.data,wait:!1})})).catch((function(e){console.error(e.response),404===e.response.data.error.status&&r.setState({wait:!1,edit:!1,msg:r.props.t("greenpallet.notFound")})}))})):r.setState({wait:!1,edit:!1,msg:r.props.t("greenpallet.typecode")})},r.state={ifYouCan:!0,pallets:[],productos:[],remanejar:!1,productoSelect:null,numpal:null},r}return Object(r.a)(a,[{key:"render",value:function(){return this.state.ifYouCan?Object(x.jsxs)(c.a,{direction:"row",padding:"0",margin:"0",wrap:"wrap",children:[Object(x.jsxs)(u.a,{width:"100%",height:"77px",children:[Object(x.jsx)("div",{className:j.a.title,children:Object(x.jsx)("div",{className:j.a.titleText,children:this.props.t("greencamaras.filtroCamaras")})}),Object(x.jsx)("div",{className:j.a.icon,children:Object(x.jsxs)("span",{className:"fa-stack fa-lg",children:[Object(x.jsx)("i",{className:"fa fa-circle fa-stack-2x fa-inverse "+j.a.shadow}),Object(x.jsx)("i",{className:"fa fa-snowflake-o fa-stack-1x "})]})})]}),Object(x.jsxs)(u.a,{width:"30%",padding:"10px",height:"calc(100% - 82px)",classes:j.a.detail,children:[Object(x.jsx)("div",{className:j.a.title,children:this.props.t("general.search")}),Object(x.jsx)("div",{children:Object(x.jsx)(b.a,{id:"codigo-search",type:"number",value:this.state.search,whenKeyPress:this.handleKeyPress,onChange:this.handlerInputChange,label:this.props.t("greenpallet.numpal")})}),Object(x.jsx)(T.a,{width:"100%",visible:!0,styleType:"outline",border:!0,classes:j.a.btn,loading:this.state.wait,disabled:this.state.wait,text:this.props.t("general.search"),id:"cancelEditProducto",icon:"search",onPress:this.handlerSearchPallet}),Object(x.jsx)("span",{children:this.state.msg})]}),Object(x.jsx)(u.a,{height:"calc(100% - 82px)",padding:"0",margin:"0 0 0 10px",width:"calc(70% - 10px)",auto:!0,children:Object(x.jsx)(m.a,{className:"-striped -highlight",data:this.state.pallets,columns:[{Header:f.a.t("greenpallet.pallets"),foldable:!0,columns:(this.props.t,[{Header:f.a.t("greenpallet.numpal"),accessor:"numpal",width:130},{Header:f.a.t("greencamaras.fechaEnCamara"),accessor:"fecha",width:250,Cell:function(e){return Object(x.jsx)(_.a,{format:"DD/MM/YYYY HH:mm:ss",children:e.original.fecha})}},{Header:f.a.t("greencamaras.camara"),accessor:"numcam"},{Header:f.a.t("greencamaras.columna"),Cell:function(e){return Object(x.jsx)("div",{children:parseInt(e.original.poscol)+1})},accessor:"poscol"},{Header:f.a.t("greencamaras.fila"),Cell:function(e){return Object(x.jsx)("div",{children:parseInt(e.original.posfila)+1})},accessor:"posfila"},{Header:f.a.t("greencamaras.altura"),Cell:function(e){return Object(x.jsx)("div",{children:parseInt(e.original.posaltura)+1})},accessor:"posaltura"},{Header:f.a.t("greenpallet.idProd"),accessor:"id_prod"},{Header:f.a.t("greencamaras.descMatr"),width:250,accessor:"descr_mat"},{Header:f.a.t("greenpallet.idPlanta"),accessor:"id_planta"},{Header:f.a.t("greenpallet.idArea"),accessor:"id_area"},{Header:f.a.t("greenpallet.ptoPes"),accessor:"ptoPes"},{Header:f.a.t("greenpallet.fechorPes"),accessor:"fechoe_pes",width:250,Cell:function(e){return Object(x.jsx)(_.a,{format:"DD/MM/YYYY",children:e.original.fechor_pes})}},{Header:f.a.t("greenpallet.idTurno"),accessor:"id_turno"},{Header:f.a.t("greenpallet.unidades"),accessor:"unidades"},{Header:f.a.t("greenpallet.taraPal"),accessor:"taraPal"},{Header:f.a.t("greenpallet.taraBolsa"),accessor:"taraBolsa"},{Header:f.a.t("greenpallet.kneto"),accessor:"kneto"},{Header:f.a.t("greenpallet.kbruto"),accessor:"kbruto"},{Header:f.a.t("greenpallet.fecProd"),accessor:"fec_prod",width:250,Cell:function(e){return Object(x.jsx)(_.a,{format:"DD/MM/YYYY",children:e.original.fec_prod})}},{Header:f.a.t("greenpallet.fecCong"),accessor:"fec_cong",width:250,Cell:function(e){return Object(x.jsx)(_.a,{format:"DD/MM/YYYY",children:e.original.fec_cong})}},{Header:f.a.t("greenpallet.fecVenc"),accessor:"fec_venc",width:250,Cell:function(e){return Object(x.jsx)(_.a,{format:"DD/MM/YYYY",children:e.original.fec_venc})}},{Header:f.a.t("greenpallet.idUsuario"),accessor:"id_usuario"},{Header:f.a.t("greenpallet.lote"),accessor:"lote"},{Header:f.a.t("greenpallet.horAper"),accessor:"hora_aper",Cell:function(e){return Object(x.jsx)(_.a,{format:"HH:mm:ss",children:e.original.hora_aper})}},{Header:f.a.t("greenpallet.horaCierre"),accessor:"hora_cierre",Cell:function(e){return Object(x.jsx)(_.a,{format:"HH:mm:ss",children:e.original.hora_cierre})}},{Header:f.a.t("greenpallet.idEstado"),accessor:"id_estado"}])}],sortable:!0,multiSort:!0,resizable:!0,filterable:!0,defaultPageSize:25,previousText:f.a.t("general.previous"),nextText:f.a.t("general.next"),loadingText:f.a.t("general.loading"),noDataText:f.a.t("general.norowsfound"),pageText:f.a.t("general.page"),ofText:f.a.t("general.of"),rowsText:f.a.t("general.rows")})})]}):Object(x.jsx)(c.a,{direction:"columns",padding:"0",margin:"0",wrap:"wrap",children:Object(x.jsx)(u.a,{height:"100vh",children:Object(x.jsx)(h.c,{icon:"401",title:f.a.t("error.noAuth"),message:f.a.t("error.noAuthMessage")})})})}}]),a}(l.PureComponent);t.default=Object(p.a)()(E)},425:function(e,t,a){"use strict";a.d(t,"a",(function(){return g})),a.d(t,"d",(function(){return j})),a.d(t,"c",(function(){return T})),a.d(t,"b",(function(){return Y})),a.d(t,"C",(function(){return E})),a.d(t,"e",(function(){return L})),a.d(t,"f",(function(){return k})),a.d(t,"g",(function(){return z})),a.d(t,"A",(function(){return R})),a.d(t,"i",(function(){return G})),a.d(t,"j",(function(){return u})),a.d(t,"B",(function(){return _})),a.d(t,"k",(function(){return N})),a.d(t,"l",(function(){return M})),a.d(t,"m",(function(){return H})),a.d(t,"n",(function(){return S})),a.d(t,"o",(function(){return p})),a.d(t,"p",(function(){return d})),a.d(t,"s",(function(){return P})),a.d(t,"q",(function(){return f})),a.d(t,"r",(function(){return b})),a.d(t,"u",(function(){return C})),a.d(t,"t",(function(){return O})),a.d(t,"w",(function(){return q})),a.d(t,"x",(function(){return X})),a.d(t,"y",(function(){return J})),a.d(t,"z",(function(){return A})),a.d(t,"E",(function(){return y})),a.d(t,"F",(function(){return h})),a.d(t,"G",(function(){return m})),a.d(t,"J",(function(){return U})),a.d(t,"I",(function(){return F})),a.d(t,"K",(function(){return D})),a.d(t,"L",(function(){return K})),a.d(t,"M",(function(){return I})),a.d(t,"N",(function(){return l})),a.d(t,"O",(function(){return c})),a.d(t,"h",(function(){return v})),a.d(t,"D",(function(){return x})),a.d(t,"v",(function(){return w})),a.d(t,"H",(function(){return B}));var n=a(448),r=a.n(n),o=a(7),i=a.n(o),s=null;function l(e,t){(s=r()("http://localhost:1212")).on("connect_error",(function(e){return t(e,null)})),s.on("pesobalanza",(function(e){return t(null,e)})),s.on("miestado",(function(e){return t(null,e)})),s.on("estadoBalanza",(function(e){return t(null,e)})),s.emit("myTransactionName",e),s.emit("subscribeGetPesoBal",300),console.log("subscribe",s)}function c(){var e,t;console.log("Unsubscribing",s),null===(e=s)||void 0===e||e.disconnect(),null===(t=s)||void 0===t||t.destroy()}function u(e){return i()({method:"GET",url:'../as-productos?filter={"where":{"idPlanta":'+e+"}}"})}function d(e,t){return i()({method:"GET",url:'../as-productos?filter={"where":{"idPlanta":'+e+',"idGrpmat":'+t+"}}"})}function p(e,t){return i()({method:"GET",url:'../as-productos?filter={"where":{"idPlanta":'+e+',"codsap":'+t+"}}"})}function f(e,t){return i()({method:"GET",url:'../cod-numeras?filter={"where":{"id":'+t+',"idPlanta":'+e+"}}"})}function h(e){return i()({method:"POST",url:"../as-detipals",data:e,headers:{"Content-Type":"application/json"}})}function m(e){return i()({method:"POST",url:"../as-hdetipals",data:e,headers:{"Content-Type":"application/json"}})}function g(e){return i()({method:"PUT",url:"../greentrz/"+e.idPlanta+"/"+e.numpal+"/"+e.idArea,data:e,headers:{"Content-Type":"application/json"}})}function j(e,t){return i()({method:"POST",url:"../greentrz/consumo-total/"+e.idNumpal+"/"+t,data:e,headers:{"Content-Type":"application/json"}})}function T(e,t){return i()({method:"POST",url:"../greentrz/consumo-parcial/"+e.idNumpal+"/"+t,data:e,headers:{"Content-Type":"application/json"}})}function b(e,t,a){return i()({method:"GET",url:'../as-detipals?filter={"limit": 10,"skip": 0,"order": ["numpal DESC","fec_prod DESC"],"where":{"idPlanta":'+e+',"idArea":'+t+',"ptoPes":'+a+',"idEstado":2}}'})}function P(e,t,a){return i()({method:"GET",url:'../as-detipals?filter={"limit": 10,"skip": 0,"order": ["numpal DESC","fec_prod DESC"],"where":{"idPlanta":'+e+',"idArea":'+t+',"ptoPes":'+a+',"idEstado":5}}'})}function _(e,t){return i()({method:"GET",url:"../greentrz/totalAConsumir/"+e+"/"+t})}function x(e,t){return i()({method:"GET",url:"../greentrz/totalProducidoFinal/"+e+"/"+t})}function E(e,t){return i()({method:"GET",url:"../greentrz/totalConsumidoFinal/"+e+"/"+t})}function C(e,t,a){return i()({method:"GET",url:'../as-detipals?filter={"limit": 1,"skip": 0,"order": ["numpal DESC"],"where":{"idPlanta":'+e+',"idArea":'+t+',"idEstado":1}}'})}function w(e,t,a){return i()({method:"GET",url:'../as-detipals?filter={"limit": 1,"skip": 0,"order": ["numpal DESC"],"where":{"idPlanta":'+e+',"idArea":'+t+',"idEstado":4}}'})}function O(e,t,a){return i()({method:"GET",url:'../as-conspals?filter={"limit": 15,"skip": 0,"order": ["hcierr DESC"],"where":{"idPlanta":'+e+',"idArea":'+t+',"ptoPes":'+a+',"idEstado":12}}'})}function y(e,t){return i()({method:"PUT",url:"../cod-numeras/"+e,data:t,headers:{"Content-Type":"application/json"}})}function H(e,t,a){return i()({method:"GET",url:"../greentrz/pallets/"+e+"/"+t+"/"+a})}function S(e){return i()({method:"GET",url:"../greentrz/palletsByNumpal/"+e})}function v(e,t,a){return i()({method:"DELETE",url:"../greentrz/pallet/"+e+"/"+t+"/"+a})}function D(e){return i()({method:"PUT",url:"../greentrz/remanejar/"+e.numpal,data:e})}function G(){return i()({method:"GET",url:"../param-cams"})}function Y(e){return i()({method:"POST",url:"../param-cams/",data:e,headers:{"Content-Type":"application/json"}})}function k(e){return i()({method:"PUT",url:"../param-cams/"+e.id,data:e,headers:{"Content-Type":"application/json"}})}function z(e){return i()({method:"DELETE",url:"../param-cams/"+e,headers:{"Content-Type":"application/json"}})}function M(e){return i()({method:"GET",url:'../param-cams?filter={"where":{"idPlanta":'+e+"}}"})}function N(e){return i()({method:"GET",url:'../as-detipals?filter={"where":{"idPlanta":'+e+"}}"})}function A(e,t){return i()({method:"GET",url:"../as-pospal/getPositionPallet/"+e+"/"+t})}function I(e){return i()({method:"POST",url:"../as-pospals",data:e,headers:{"Content-Type":"application/json"}})}function U(e){return i()({method:"PUT",url:"../as-pospals/"+e.id,data:e,headers:{"Content-Type":"application/json"}})}function B(e){return i()({method:"POST",url:"../as-hpospals/",data:e,headers:{"Content-Type":"application/json"}})}function F(e,t){return i()({method:"PUT",url:"../as-detipal/estado-pallet/"+e+"/"+t,headers:{"Content-Type":"application/json"}})}function L(e){return i()({method:"DELETE",url:"../as-pospals/"+e,headers:{"Content-Type":"application/json"}})}function J(e){return i()({method:"GET",url:"../camaras/getPalletsInCamaras/"+e})}function K(e,t){return i()({method:"GET",url:"../camaras/getPalletInCamara/"+e+"/"+t})}function X(e,t){return i()({method:"GET",url:"../as-detipal/getPalletDesasociados/"+e+"/"+t})}function q(e){return i()({method:"GET",url:"../as-detipal/pallets-a-consumir/"+e})}function R(e){return i()({method:"GET",url:'../prodfamilias?filter={"where":{"idPlanta":'+e+"}}"})}},947:function(e,t,a){e.exports={form:"styles_form__1dpyJ",icon:"styles_icon__1W27X",shadow:"styles_shadow__3_kSw",title:"styles_title__tPFDf",titleText:"styles_titleText__1cBQf",eliminar:"styles_eliminar__2q_1r",detail:"styles_detail__EXy_Y",btn:"styles_btn__2Xk17",formRemanejo:"styles_formRemanejo__1yNpu"}}}]);
//# sourceMappingURL=18.3300d9a9.chunk.js.map