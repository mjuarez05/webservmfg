{"version":3,"sources":["view/GreenTrz/Pesada/index.js","services/GreenTrz/index.js","components/GroupForm/index.js","components/GroupForm/styles.module.scss","services/General/index.js","services/TrxParam/index.js","assets/pallet.svg","../node_modules/react-full-screen/dist/index.js","../../src/fscreen.js","view/GreenTrz/Pesada/styles.module.scss"],"names":["PARAMS_NEEDS","TRX","store","getState","tabList","tabActive","id","PESADA_DEFAULT","pesadaPlanta","pesadaPuesto","pesadaImpresora","pesadaTurno","pesadaProducto","pesobalanza","pesadaCantidadBolsa","palletNumero","pesadaArea","palletPeso","estadobalanza","obspallet","horaInicio","pesoManual","valormanual","intervenido","lote","producto","GreenPesada","props","goFull","setState","state","isFull","handlerSelectChange","e","name","target","value","pesada","buscarTurnos","getGreenTrzProducto","then","res","data","getActivity","habilitado","componentWillUnmount","unsubscribeSocket","componentDidMount","axios","all","getPlantas","values","plantas","catch","error","console","response","status","ifYouCan","msg","msgType","styles","getTurnos","getTrxParamByPlantaAndTrx","checkTrxParamsNeed","getGreenTrzProductosByGroup","filter","v","descr","valor","resdata","turnos","area","productos","puestos","impresoras","params","paramsOk","subscribeSocketBal","err","socketOk","handlerPesar","pesando","getLastPalletActivity","getGreenTrzUltimoPallet","getLastPalletOpen","length","initGreenTrzAsDetipals","idPlanta","parseInt","numpal","ultusado","idArea","ptoPes","fechorPes","dayjs","subtract","Date","getTimezoneOffset","toISOString","replace","idTurno","idProd","unidades","taraPal","taraBolsa","kneto","kbruto","fecProd","fecCong","fecVenc","idUsuario","userid","toString","horaAper","horaCierre","idEstado","retenido","obsretenido","obsintervenido","resStart","incrementNumPall","numdde","numhta","result","blink","ultimosPallet","handlerCerrarPallet","prod","codsap","parseFloat","pesmin","pesmax","log","cerrarGreenTrzAsDetipals","initGreenTrzAsHDetipals","secuencia","idTipomov","numbal","reshpal","success","handlerInputChange","ifYouAddPermission","wait","this","detpal","enabled","onChange","direction","margin","width","className","title","titleText","t","styleType","classes","fullscreenBtn","visible","loading","disabled","icon","onPress","src","pallet","alt","height","padding","group","label","items","itemId","itemText","onSelect","pesadaroducto","text","container","minHeight","columns","overflow","groupPesada","listaPallet","map","format","Intl","NumberFormat","alignItems","numPallet","descrMat","detalleBolsas","join","toFixed","justifyContent","type","inputs","topheader","estadoBalanza","peso","heigh","wrap","message","PureComponent","withTranslation","socketBal","trxname","cb","openSocket","on","miestado","emit","disconnect","destroy","getAllGreenTrzProductos","planta","method","url","grupo","codnumera","headers","createGreenTrzAsConspalsTotal","estado","idNumpal","createGreenTrzAsConspalsParcial","puesto","getLastPalletActivityFinal","getTotalAConsumir","prodfam","getTotalProducidoFinal","getTotalConsumidoFinal","getLastPalletOpenProductoFinal","getLastPalletConsumoActivity","getGreenTrxAllPalletByDay","desde","hasta","getGreenTrxPallet","eliminarPallet","usuario","remanejarGreenTrxPallet","getAllCamaras","createCamara","camara","editCamara","eliminarCamara","getCamarasPorPlanta","getAllPalletByPlant","getPositionPallet","setPositionPallet","pos","putPositionPallet","postPositioHistoryPallet","putEstadoPallet","deletePositionPallet","getPalletInCamara","searchPalletInCamara","getPalletDesasociados","estados","getPalletAConsumir","getProdFamilia","GroupForm","createStyles","names","content","push","size","position","top","left","right","bottom","framedisable","style","children","frame","module","exports","groupByParams","xs","key","reduce","rv","x","getAllTrxParam","trx","createTrxParam","param","editTrxParam","eliminarTrxParam","getting","need","a","arrayParam","Object","keys","every","includes","defineProperty","_createClass","defineProperties","i","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_propTypes2","_fscreen2","obj","__esModule","default","FullScreen","_Component","instance","TypeError","_classCallCheck","_this","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","fullScreenElement","detectFullScreen","bind","subClass","superClass","create","constructor","setPrototypeOf","_inherits","addEventListener","removeEventListener","handleProps","fullscreenElement","node","leaveFullScreen","enterFullScreen","fullscreenEnabled","requestFullscreen","exitFullscreen","_this2","createElement","ref","undefined","Component","propTypes","isRequired","bool","func","defaultProps","fullscreenchange","fullscreenerror","fullscreen","webkit","moz","ms","document","window","vendor","element","requestFullscreenFunction","handler","options","Boolean","val","toLowerCase"],"mappings":"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","file":"static/js/12.92ba607f.chunk.js","sourcesContent":["import React, {PureComponent} from 'react';\r\nimport Flex from '../../../components/Flex';\r\nimport Column from '../../../components/Column';\r\nimport Input from '../../../components/Input';\r\nimport ComboBox from '../../../components/ComboBox';\r\nimport GroupForm from '../../../components/GroupForm';\r\nimport styles from './styles.module.scss';\r\nimport {withTranslation} from 'react-i18next';\r\nimport Button from '../../../components/Button';\r\nimport {LoaderViewError} from '../../../actions.js';\r\nimport pallet from '../../../assets/pallet.svg';\r\nimport {getPlantas, getTurnos} from '../../../services/General';\r\nimport Fullscreen from 'react-full-screen';\r\n// import {toast} from 'react-toastify';\r\n// import 'react-toastify/dist/ReactToastify.css';\r\nimport Moment from 'react-moment';\r\nimport {\r\n  // subscribeGetPesoBal,\r\n  // subscribeGetEstadoBal,\r\n  subscribeSocketBal,\r\n  unsubscribeSocket,\r\n  getGreenTrzUltimoPallet,\r\n  getGreenTrzProductosByGroup,\r\n  getGreenTrzProducto,\r\n  initGreenTrzAsDetipals,\r\n  cerrarGreenTrzAsDetipals,\r\n  getLastPalletActivity,\r\n  getLastPalletOpen,\r\n  incrementNumPall,\r\n  initGreenTrzAsHDetipals,\r\n} from '../../../services/GreenTrz';\r\nimport {\r\n  getTrxParamByPlantaAndTrx,\r\n  checkTrxParamsNeed,\r\n} from '../../../services/TrxParam';\r\n\r\nimport store from '../../../store';\r\nimport axios from 'axios';\r\nimport dayjs from 'dayjs';\r\n\r\nconst PARAMS_NEEDS = [\r\n  'Puesto',\r\n  'Impresor',\r\n  'GrupoMaterial',\r\n  'CodNumera',\r\n  'Area',\r\n  'Lote',\r\n  'FullScreen',\r\n  'PesoManual',\r\n];\r\nconst TRX = store.getState().tabList[store.getState().tabActive].id;\r\nconst PESADA_DEFAULT = {\r\n  pesadaPlanta: '',\r\n  pesadaPuesto: '',\r\n  pesadaImpresora: '',\r\n  pesadaTurno: '',\r\n  pesadaProducto: '',\r\n  pesobalanza: 0,\r\n  pesadaCantidadBolsa: 0,\r\n  palletNumero: 0,\r\n  pesadaArea: '',\r\n  palletPeso: '0',\r\n  estadobalanza: '',\r\n  obspallet: 'A la espera de Análisis',\r\n  horaInicio: null,\r\n  pesoManual: false,\r\n  valormanual: 0,\r\n  intervenido: true,\r\n  lote: '-',\r\n  producto: {},\r\n};\r\nclass GreenPesada extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isFull: false,\r\n      ifYouCan: true,\r\n      ifYouAddPermission: false,\r\n      wait: false,\r\n      habilitado: false,\r\n      pesando: false,\r\n      socketOk: true,\r\n      pesada: {...PESADA_DEFAULT},\r\n      ultimosPallet: [],\r\n      plantas: [],\r\n      impresoras: [],\r\n      turnos: [],\r\n      productos: [],\r\n      puestos: [],\r\n      paramsOk: null,\r\n      msg: '',\r\n    };\r\n  }\r\n\r\n  goFull = () => {\r\n    this.setState({...this.state, isFull: !this.state.isFull});\r\n  };\r\n\r\n  handlerSelectChange = (e) => {\r\n    let name = e.target.name;\r\n    let value = e.target.value;\r\n    this.setState(\r\n      {\r\n        ...this.state,\r\n        pesada: {\r\n          ...this.state.pesada,\r\n          [name]: value,\r\n        },\r\n      },\r\n      () => {\r\n        if (name === 'pesadaPlanta') {\r\n          this.buscarTurnos();\r\n        }\r\n        if (name === 'pesadaProducto') {\r\n          getGreenTrzProducto(this.state.pesada.pesadaPlanta, value).then(\r\n            (res) => {\r\n              this.setState({\r\n                ...this.state,\r\n                pesada: {\r\n                  ...this.state.pesada,\r\n                  producto: res.data[0],\r\n                },\r\n              });\r\n            },\r\n          );\r\n        }\r\n        if (name === 'pesadaPuesto') {\r\n          this.getActivity();\r\n        }\r\n        if (\r\n          this.state.pesada.pesadaPlanta !== '' &&\r\n          this.state.pesada.pesadaTurno !== '' &&\r\n          this.state.pesada.pesadaProducto !== '' &&\r\n          this.state.pesada.pesadaPuesto !== '' &&\r\n          this.state.pesada.pesadaImpresora !== ''\r\n        )\r\n          this.setState({...this.state, habilitado: true});\r\n      },\r\n    );\r\n  };\r\n\r\n  componentWillUnmount = () => {\r\n    if (!this.state.pesada.pesoManual) unsubscribeSocket();\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    axios\r\n      .all([getPlantas()])\r\n      .then((values) => {\r\n        this.setState({\r\n          ...this.state,\r\n          plantas: values[0].data,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.response);\r\n        if (error.response.status === 401) {\r\n          this.setState({...this.state, ifYouCan: false});\r\n        } else {\r\n          this.setState({\r\n            ...this.state,\r\n            msg: 'ERROR al obtener las plantas',\r\n            msgType: styles.error,\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  buscarTurnos = () => {\r\n    axios\r\n      .all([\r\n        getTurnos(this.state.pesada.pesadaPlanta),\r\n        getTrxParamByPlantaAndTrx(this.state.pesada.pesadaPlanta, TRX),\r\n      ])\r\n      .then((values) => {\r\n        checkTrxParamsNeed(values[1].data, PARAMS_NEEDS)\r\n          .then((res) => {\r\n            if (res) {\r\n              axios\r\n                .all([\r\n                  getGreenTrzProductosByGroup(\r\n                    this.state.pesada.pesadaPlanta,\r\n                    values[1].data.filter((v) => v.descr === PARAMS_NEEDS[2])[0]\r\n                      .valor,\r\n                  ),\r\n                ])\r\n                .then((resdata) => {\r\n                  this.setState(\r\n                    {\r\n                      ...this.state,\r\n                      turnos: values[0].data,\r\n                      pesada: {\r\n                        ...this.state.pesada,\r\n                        lote: values[1].data.filter(\r\n                          (v) => v.descr === PARAMS_NEEDS[5],\r\n                        )[0].valor,\r\n                        area: values[1].data.filter(\r\n                          (v) => v.descr === PARAMS_NEEDS[4],\r\n                        )[0].valor,\r\n                        pesoManual:\r\n                          values[1].data.filter(\r\n                            (v) => v.descr === PARAMS_NEEDS[7],\r\n                          )[0].valor === '1'\r\n                            ? true\r\n                            : false,\r\n                      },\r\n                      productos: resdata[0].data,\r\n                      puestos: values[1].data.filter(\r\n                        (v) => v.descr === PARAMS_NEEDS[0],\r\n                      ),\r\n                      impresoras: values[1].data.filter(\r\n                        (v) => v.descr === PARAMS_NEEDS[1],\r\n                      ),\r\n                      params: values[1].data,\r\n                      paramsOk: res,\r\n                      isFull:\r\n                        values[1].data.filter(\r\n                          (v) => v.descr === PARAMS_NEEDS[6],\r\n                        )[0].valor === '1'\r\n                          ? true\r\n                          : false,\r\n                    },\r\n                    () => {\r\n                      if (!this.state.pesada.pesoManual) {\r\n                        subscribeSocketBal(\r\n                          'GREENPESADA',\r\n                          (err, pesobalanza) => {\r\n                            if (err !== null) {\r\n                              this.setState({...this.state, socketOk: false});\r\n                            }\r\n                            if (\r\n                              pesobalanza !== 0 ||\r\n                              (pesobalanza === 0 &&\r\n                                this.state.pesada.pesobalanza !== 0)\r\n                            )\r\n                              this.setState({\r\n                                ...this.state,\r\n                                pesada: {\r\n                                  ...this.state.pesada,\r\n                                  pesobalanza: pesobalanza,\r\n                                },\r\n                              });\r\n                          },\r\n                        );\r\n                      }\r\n                    },\r\n                  );\r\n                })\r\n                .catch((error) => {\r\n                  console.error(error.response);\r\n                  if (error.response.status === 401) {\r\n                    this.setState({...this.state, ifYouCan: false});\r\n                  } else {\r\n                    this.setState({\r\n                      ...this.state,\r\n                      msg: 'ERROR al obtener productos',\r\n                      msgType: styles.error,\r\n                    });\r\n                  }\r\n                });\r\n            }\r\n            this.setState({\r\n              ...this.state,\r\n              paramsOk: res,\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            console.error(error.response);\r\n            if (error.response.status === 401) {\r\n              this.setState({...this.state, ifYouCan: false});\r\n            } else {\r\n              this.setState({\r\n                ...this.state,\r\n                msg: 'ERROR al obtener parametros',\r\n                msgType: styles.error,\r\n              });\r\n            }\r\n          });\r\n      });\r\n  };\r\n\r\n  handlerPesar = () => {\r\n    if (this.state.pesando) {\r\n      this.setState({\r\n        ...this.state,\r\n        pesando: !this.state.pesando,\r\n        msg: 'Pesada Cancelada',\r\n        msgType: styles.error,\r\n      });\r\n    } else {\r\n      axios\r\n        .all([\r\n          getLastPalletActivity(\r\n            this.state.pesada.pesadaPlanta,\r\n            this.state.pesada.area,\r\n            this.state.pesada.pesadaPuesto,\r\n          ),\r\n          getGreenTrzUltimoPallet(\r\n            this.state.pesada.pesadaPlanta,\r\n            this.state.params.filter((v) => v.descr === PARAMS_NEEDS[3])[0]\r\n              .valor,\r\n          ),\r\n          getLastPalletOpen(\r\n            this.state.pesada.pesadaPlanta,\r\n            this.state.pesada.area,\r\n            this.state.pesada.pesadaPuesto,\r\n          ),\r\n        ])\r\n        .then((res) => {\r\n          if (res[2].data.length === 0) {\r\n            initGreenTrzAsDetipals({\r\n              idPlanta: parseInt(this.state.pesada.pesadaPlanta),\r\n              numpal: parseInt(res[1].data[0].ultusado) + 1,\r\n              idArea: parseInt(this.state.pesada.area),\r\n              ptoPes: parseInt(this.state.pesada.pesadaPuesto),\r\n              fechorPes: dayjs()\r\n                .subtract(new Date().getTimezoneOffset() / 60, 'hour')\r\n                .toISOString()\r\n                .replace('Z', '')\r\n                .replace('T', ' '),\r\n              idTurno: parseInt(this.state.pesada.pesadaTurno),\r\n              idProd: this.state.pesada.pesadaProducto,\r\n              unidades: 0,\r\n              taraPal: 0,\r\n              taraBolsa: 0,\r\n              kneto: 0,\r\n              kbruto: 0,\r\n              fecProd: dayjs()\r\n                .subtract(new Date().getTimezoneOffset() / 60, 'hour')\r\n                .toISOString()\r\n                .replace('Z', '')\r\n                .replace('T', ' '),\r\n              fecCong: dayjs()\r\n                .subtract(new Date().getTimezoneOffset() / 60, 'hour')\r\n                .toISOString()\r\n                .replace('Z', '')\r\n                .replace('T', ' '),\r\n              fecVenc: dayjs()\r\n                .subtract(new Date().getTimezoneOffset() / 60, 'hour')\r\n                .toISOString()\r\n                .replace('Z', '')\r\n                .replace('T', ' '),\r\n              idUsuario: parseInt(store.getState().userid.toString()),\r\n              lote: this.state.pesada.lote,\r\n              horaAper: dayjs()\r\n                .subtract(new Date().getTimezoneOffset() / 60, 'hour')\r\n                .toISOString()\r\n                .replace('Z', '')\r\n                .replace('T', ' '),\r\n              horaCierre: dayjs()\r\n                .subtract(new Date().getTimezoneOffset() / 60, 'hour')\r\n                .toISOString()\r\n                .replace('Z', '')\r\n                .replace('T', ' '),\r\n              idEstado: 1,\r\n              intervenido: true,\r\n              retenido: false,\r\n              obspallet: '',\r\n              obsretenido: '',\r\n              obsintervenido: '',\r\n            }).then((resStart) => {\r\n              incrementNumPall(\r\n                this.state.params.filter((v) => v.descr === PARAMS_NEEDS[3])[0]\r\n                  .valor,\r\n                {\r\n                  ...res[1].data[0],\r\n                  numdde: parseInt(res[1].data[0].numdde),\r\n                  numhta: parseInt(res[1].data[0].numhta),\r\n                  ultusado: parseInt(res[1].data[0].ultusado) + 1,\r\n                },\r\n              ).then((result) => {\r\n                //   toast.success('Se inicio la Pesada Correctamente!', {\r\n                //     position: toast.POSITION.TOP_CENTER,\r\n                //     className: 'toast-container',\r\n                //   });\r\n                this.setState({\r\n                  ...this.state,\r\n                  msg: 'Pesando...',\r\n                  msgType: styles.blink,\r\n                  ultimosPallet: res[0].data,\r\n                  pesando: !this.state.pesando,\r\n                  pesada: {\r\n                    ...this.state.pesada,\r\n                    horaInicio: dayjs()\r\n                      .subtract(new Date().getTimezoneOffset() / 60, 'hour')\r\n                      .toISOString()\r\n                      .replace('Z', '')\r\n                      .replace('T', ' '),\r\n                    palletNumero: res[1].data[0],\r\n                  },\r\n                });\r\n              });\r\n            });\r\n          } else {\r\n            this.setState({\r\n              ...this.state,\r\n              msg: 'Pesando...',\r\n              msgType: styles.blink,\r\n              ultimosPallet: res[0].data,\r\n              pesando: !this.state.pesando,\r\n              pesada: {\r\n                ...this.state.pesada,\r\n                horaInicio: dayjs()\r\n                  .subtract(new Date().getTimezoneOffset() / 60, 'hour')\r\n                  .toISOString()\r\n                  .replace('Z', '')\r\n                  .replace('T', ' '),\r\n                palletNumero: res[2].data[0],\r\n              },\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          // toast.success('Error al inicial la Pesada.!', {\r\n          //   position: toast.POSITION.TOP_CENTER,\r\n          // });\r\n          this.setState({\r\n            ...this.state,\r\n            msg: 'ERROR al iniciar la pesada',\r\n            msgType: styles.error,\r\n          });\r\n          console.error(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  handlerCerrarPallet = () => {\r\n    let prod = this.state.productos.filter(\r\n      (v) => v.codsap === this.state.pesada.pesadaProducto,\r\n    );\r\n    if (this.state.pesada.pesadaCantidadBolsa === 0) {\r\n      // toast.success('La Cantidad de bolsas debe ser mayor a 0', {\r\n      //   position: toast.POSITION.TOP_LEFT,\r\n      // });\r\n      this.setState({\r\n        msg: 'La Cantidad de bolsas debe ser mayor a 0',\r\n        msgType: styles.error,\r\n      });\r\n      return;\r\n    }\r\n    if (this.state.pesada.pesoManual) {\r\n      if (\r\n        parseFloat(\r\n          this.state.pesada.valormanual / this.state.pesada.pesadaCantidadBolsa,\r\n        ) < parseFloat(this.state.pesada.producto.pesmin) ||\r\n        parseFloat(\r\n          this.state.pesada.valormanual / this.state.pesada.pesadaCantidadBolsa,\r\n        ) > parseFloat(this.state.pesada.producto.pesmax)\r\n      ) {\r\n        // toast.success('La Cantidad de bolsas debe ser mayor a 0', {\r\n        //   position: toast.POSITION.TOP_LEFT,\r\n        // });\r\n        this.setState({\r\n          ...this.state,\r\n          msg: 'El peso promedio de bolsa es erroneo. Por Favor Verifique',\r\n          msgType: styles.error,\r\n        });\r\n        return;\r\n      }\r\n    } else if (\r\n      parseFloat(\r\n        this.state.pesada.pesobalanza / this.state.pesada.pesadaCantidadBolsa,\r\n      ) < parseFloat(this.state.pesada.producto.pesmin) ||\r\n      parseFloat(\r\n        this.state.pesada.pesobalanza / this.state.pesada.pesadaCantidadBolsa,\r\n      ) > parseFloat(this.state.pesada.producto.pesmax)\r\n    ) {\r\n      // toast.success('La Cantidad de bolsas debe ser mayor a 0', {\r\n      //   position: toast.POSITION.TOP_LEFT,\r\n      // });\r\n      this.setState({\r\n        ...this.state,\r\n        msg: 'El peso promedio de bolsa es erroneo. Por Favor Verifique',\r\n        msgType: styles.error,\r\n      });\r\n      return;\r\n    }\r\n    console.log(this.state.pesada);\r\n\r\n    cerrarGreenTrzAsDetipals({\r\n      idPlanta: parseInt(this.state.pesada.pesadaPlanta),\r\n      numpal: this.state.pesada.palletNumero.ultusado\r\n        ? parseInt(this.state.pesada.palletNumero.ultusado) + 1\r\n        : parseInt(this.state.pesada.palletNumero.numpal),\r\n      idArea: parseInt(this.state.pesada.area),\r\n      ptoPes: parseInt(this.state.pesada.pesadaPuesto),\r\n      fechorPes: dayjs()\r\n        .subtract(new Date().getTimezoneOffset() / 60, 'hour')\r\n        .toISOString()\r\n        .replace('Z', '')\r\n        .replace('T', ' '),\r\n      idTurno: parseInt(this.state.pesada.pesadaTurno),\r\n      idProd: this.state.pesada.pesadaProducto,\r\n      unidades: parseInt(this.state.pesada.pesadaCantidadBolsa),\r\n      taraPal: 0,\r\n      taraBolsa: parseFloat(prod[0].taraBolsa),\r\n      kneto: this.state.pesada.pesoManual\r\n        ? parseFloat(this.state.pesada.valormanual)\r\n        : parseFloat(this.state.pesada.pesobalanza),\r\n      kbruto: this.state.pesada.pesoManual\r\n        ? parseFloat(this.state.pesada.valormanual)\r\n        : parseFloat(this.state.pesada.pesobalanza),\r\n      fecProd: dayjs()\r\n        .subtract(new Date().getTimezoneOffset() / 60, 'hour')\r\n        .toISOString()\r\n        .replace('Z', '')\r\n        .replace('T', ' '),\r\n      fecCong: dayjs()\r\n        .subtract(new Date().getTimezoneOffset() / 60, 'hour')\r\n        .toISOString()\r\n        .replace('Z', '')\r\n        .replace('T', ' '),\r\n      fecVenc: dayjs()\r\n        .subtract(new Date().getTimezoneOffset() / 60, 'hour')\r\n        .toISOString()\r\n        .replace('Z', '')\r\n        .replace('T', ' '),\r\n      idUsuario: parseInt(store.getState().userid.toString()),\r\n      lote: this.state.pesada.lote,\r\n      horaAper: this.state.pesada.horaInicio,\r\n      horaCierre: dayjs()\r\n        .subtract(new Date().getTimezoneOffset() / 60, 'hour')\r\n        .toISOString()\r\n        .replace('Z', '')\r\n        .replace('T', ' '),\r\n      idEstado: 2,\r\n      intervenido: true,\r\n      retenido: false,\r\n      obspallet: this.state.pesada.obspallet,\r\n      obsretenido: '',\r\n      obsintervenido: '',\r\n    })\r\n      .then((res) => {\r\n        // toast.success('El Pallet se cerro correctamente.!', {\r\n        //   position: toast.POSITION.TOP_CENTER,\r\n        // });\r\n        initGreenTrzAsHDetipals({\r\n          idPlanta: parseInt(this.state.pesada.pesadaPlanta),\r\n          numpal: this.state.pesada.palletNumero.ultusado\r\n            ? parseInt(this.state.pesada.palletNumero.ultusado) + 1\r\n            : parseInt(this.state.pesada.palletNumero.numpal),\r\n          idArea: parseInt(this.state.pesada.area),\r\n          ptoPes: parseInt(this.state.pesada.pesadaPuesto),\r\n          fechorPes: dayjs()\r\n            .subtract(new Date().getTimezoneOffset() / 60, 'hour')\r\n            .toISOString()\r\n            .replace('Z', '')\r\n            .replace('T', ' '),\r\n          idTurno: parseInt(this.state.pesada.pesadaTurno),\r\n          idProd: this.state.pesada.pesadaProducto,\r\n          unidades: parseInt(this.state.pesada.pesadaCantidadBolsa),\r\n          taraPal: 0,\r\n          taraBolsa: parseFloat(prod[0].taraBolsa),\r\n          kneto: this.state.pesada.pesoManual\r\n            ? parseFloat(this.state.pesada.valormanual)\r\n            : parseFloat(this.state.pesada.pesobalanza),\r\n          kbruto: this.state.pesada.pesoManual\r\n            ? parseFloat(this.state.pesada.valormanual)\r\n            : parseFloat(this.state.pesada.pesobalanza),\r\n          fecProd: dayjs()\r\n            .subtract(new Date().getTimezoneOffset() / 60, 'hour')\r\n            .toISOString()\r\n            .replace('Z', '')\r\n            .replace('T', ' '),\r\n          fecCong: dayjs()\r\n            .subtract(new Date().getTimezoneOffset() / 60, 'hour')\r\n            .toISOString()\r\n            .replace('Z', '')\r\n            .replace('T', ' '),\r\n          fecVenc: dayjs()\r\n            .subtract(new Date().getTimezoneOffset() / 60, 'hour')\r\n            .toISOString()\r\n            .replace('Z', '')\r\n            .replace('T', ' '),\r\n          idUsuario: parseInt(store.getState().userid.toString()),\r\n          lote: this.state.pesada.lote,\r\n          horaAper: this.state.pesada.horaInicio,\r\n          horaCierre: dayjs()\r\n            .subtract(new Date().getTimezoneOffset() / 60, 'hour')\r\n            .toISOString()\r\n            .replace('Z', '')\r\n            .replace('T', ' '),\r\n          secuencia: 0,\r\n          idTipomov: 1,\r\n          numbal: 0,\r\n          idEstado: 1,\r\n        })\r\n          .then((reshpal) => {\r\n            this.setState(\r\n              {\r\n                ...this.state,\r\n                msg: 'Pallet Cerrado',\r\n                pesada: {\r\n                  ...this.state.pesada,\r\n                  pesobalanza: 0,\r\n                  pesadaCantidadBolsa: 0,\r\n                  palletNumero: 0,\r\n                  palletPeso: '0',\r\n                  estadobalanza: '',\r\n                  obspallet: 'A la espera de Análisis',\r\n                  horaInicio: null,\r\n                  valormanual: 0,\r\n                  intervenido: true,\r\n                },\r\n                msgType: styles.success,\r\n                pesando: !this.state.pesando,\r\n              },\r\n              () => {\r\n                this.getActivity();\r\n              },\r\n            );\r\n          })\r\n          .catch((err) => {\r\n            // toast.error('Hemos tenido problemas al cerrar el Pallet.!', {\r\n            //   position: toast.POSITION.TOP_CENTER,\r\n            // });\r\n            this.setState({\r\n              ...this.state,\r\n              msg: 'ERROR al cerrar el pallet',\r\n              msgType: styles.error,\r\n            });\r\n            console.error(err);\r\n          });\r\n      })\r\n      .catch((err) => {\r\n        // toast.error('Hemos tenido problemas al cerrar el Pallet.!', {\r\n        //   position: toast.POSITION.TOP_CENTER,\r\n        // });\r\n        this.setState({\r\n          ...this.state,\r\n          msg: 'ERROR al cerrar el pallet',\r\n          msgType: styles.error,\r\n        });\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  handlerInputChange = (e) => {\r\n    let name = e.target.name;\r\n    let value = e.target.value;\r\n    this.setState({\r\n      ...this.state,\r\n      pesada: {\r\n        ...this.state.pesada,\r\n        [name]: value,\r\n      },\r\n    });\r\n  };\r\n\r\n  getActivity() {\r\n    getLastPalletActivity(\r\n      this.state.pesada.pesadaPlanta,\r\n      this.state.pesada.area,\r\n      this.state.pesada.pesadaPuesto,\r\n    ).then((detpal) => {\r\n      this.setState({\r\n        ...this.state,\r\n        ultimosPallet: detpal.data,\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return this.state.ifYouCan ? (\r\n      this.state.paramsOk === true || this.state.paramsOk === null ? (\r\n        <Fullscreen\r\n          enabled={this.state.isFull}\r\n          onChange={(isFull) => this.setState({...this.state, isFull})}\r\n        >\r\n          <Flex direction=\"column\" margin=\"0\">\r\n            <Column width=\"100%\">\r\n              <div className={styles.title}>\r\n                <div className={styles.titleText}>\r\n                  {this.props.t('greentrz.PuestoSemi')}\r\n                  <span className={styles.msg}>\r\n                    <div className={this.state.msgType}>\r\n                      {this.props.t(this.state.msg)}\r\n                    </div>\r\n                  </span>\r\n                  <Button\r\n                    styleType=\"outline\"\r\n                    classes={styles.fullscreenBtn}\r\n                    visible={true}\r\n                    loading={this.state.wait}\r\n                    disabled={this.state.wait}\r\n                    id=\"pesarfullscreen\"\r\n                    icon={this.state.isFull ? 'chevron-down' : 'chevron-up'}\r\n                    onPress={this.goFull}\r\n                  ></Button>\r\n                </div>\r\n              </div>\r\n              <div className={styles.icon}>\r\n                <img src={pallet} alt=\"Pallet\"></img>\r\n              </div>\r\n            </Column>\r\n            <Column\r\n              width=\"100%\"\r\n              height=\"auto\"\r\n              padding=\"5px\"\r\n              margin=\"0 0 20px 0\"\r\n            >\r\n              <GroupForm\r\n                title={this.props.t('general.configuracion')}\r\n                classes={styles.group}\r\n              >\r\n                <Column width=\"49%\" padding=\"5px\">\r\n                  <ComboBox\r\n                    id=\"pesadaPlanta\"\r\n                    label={this.props.t('general.planta')}\r\n                    items={this.state.plantas}\r\n                    itemId=\"id\"\r\n                    disabled={this.state.pesando}\r\n                    itemText=\"descripcion\"\r\n                    value={this.state.pesada.pesadaPlanta}\r\n                    onSelect={this.handlerSelectChange}\r\n                  />\r\n                  <ComboBox\r\n                    id=\"pesadaTurno\"\r\n                    label={this.props.t('general.turno')}\r\n                    items={this.state.turnos}\r\n                    itemId=\"id\"\r\n                    itemText=\"descr\"\r\n                    disabled={this.state.pesando}\r\n                    value={this.state.pesada.pesadaTurno}\r\n                    onSelect={this.handlerSelectChange}\r\n                  />\r\n                  <ComboBox\r\n                    id=\"pesadaPuesto\"\r\n                    label={this.props.t('general.puesto')}\r\n                    items={this.state.puestos}\r\n                    itemId=\"id\"\r\n                    itemText=\"valor\"\r\n                    disabled={this.state.pesando}\r\n                    value={this.state.pesada.pesadaPuesto}\r\n                    onSelect={this.handlerSelectChange}\r\n                  />\r\n                </Column>\r\n                <Column width=\"49%\" height=\"100%\" padding=\"5px\">\r\n                  <ComboBox\r\n                    id=\"pesadaProducto\"\r\n                    label={this.props.t('general.producto')}\r\n                    items={this.state.productos}\r\n                    itemId=\"codsap\"\r\n                    itemText={['codsap', 'descrMat']}\r\n                    disabled={this.state.pesando}\r\n                    value={this.state.pesada.pesadaroducto}\r\n                    onSelect={this.handlerSelectChange}\r\n                  />\r\n                  <ComboBox\r\n                    id=\"pesadaImpresora\"\r\n                    label={this.props.t('general.impresora')}\r\n                    items={this.state.impresoras}\r\n                    itemId=\"id\"\r\n                    itemText=\"valor\"\r\n                    disabled={this.state.pesando}\r\n                    value={this.state.pesada.pesadaImpresora}\r\n                    onSelect={this.handlerSelectChange}\r\n                  />\r\n                  <Button\r\n                    width=\"100%\"\r\n                    margin=\"0\"\r\n                    visible={true}\r\n                    styleType=\"success\"\r\n                    loading={this.state.wait}\r\n                    disabled={!this.state.habilitado}\r\n                    text={\r\n                      this.state.pesando\r\n                        ? this.props.t('greentrz.stopPesada')\r\n                        : this.props.t('greentrz.habilitarPesada')\r\n                    }\r\n                    id=\"pesar\"\r\n                    icon={this.state.pesando ? 'stop' : 'play'}\r\n                    onPress={this.handlerPesar}\r\n                  ></Button>\r\n                </Column>\r\n              </GroupForm>\r\n            </Column>\r\n            <Flex\r\n              classes={styles.container}\r\n              width=\"100%\"\r\n              height=\"calc(100% - 23rem)\"\r\n              direction=\"row\"\r\n            >\r\n              <Column width=\"50%\" height=\"auto\" padding=\"5px\" minHeight=\"290px\">\r\n                <GroupForm\r\n                  title={this.props.t('greentrz.UltimosPallet')}\r\n                  columns={true}\r\n                  disabled={!this.state.pesando}\r\n                  height=\"100%\"\r\n                  overflow=\"auto\"\r\n                  //disabled={!this.state.pesando}\r\n                  classes={styles.groupPesada}\r\n                >\r\n                  <ul className={styles.listaPallet}>\r\n                    {this.state.ultimosPallet.map((v) => {\r\n                      return (\r\n                        <li key={v.numpal}>\r\n                          {v.numpal}\r\n                          <small>\r\n                            {' '}\r\n                            -{' '}\r\n                            <Moment format=\"DD/MM/YYYY HH:mm:ss\">\r\n                              {v.horaCierre}\r\n                            </Moment>\r\n                          </small>\r\n                          <b>\r\n                            {v.idProd} - {v.unidades} un. -\r\n                            {Intl.NumberFormat('es-ES').format(v.kbruto)}kg\r\n                          </b>\r\n                        </li>\r\n                      );\r\n                    })}\r\n                  </ul>\r\n                </GroupForm>\r\n              </Column>\r\n\r\n              <Column width=\"50%\" height=\"auto\" padding=\"0px\">\r\n                <Flex\r\n                  classes={styles.container}\r\n                  width=\"100%\"\r\n                  height=\"100%\"\r\n                  direction=\"column\"\r\n                >\r\n                  <Column\r\n                    width=\"100%\"\r\n                    height=\"60%\"\r\n                    padding=\"5px\"\r\n                    minHeight=\"145px\"\r\n                  >\r\n                    <GroupForm\r\n                      height=\"100%\"\r\n                      title={this.props.t('greentrz.PesadaActual')}\r\n                      classes={styles.group}\r\n                      disabled={!this.state.pesando}\r\n                    >\r\n                      <Flex\r\n                        classes={styles.container}\r\n                        width=\"100%\"\r\n                        height=\"33%\"\r\n                        direction=\"row\"\r\n                        alignItems=\"center\"\r\n                      >\r\n                        <Column width=\"50%\" height=\"auto\">\r\n                          <div className={styles.numPallet}>\r\n                            PALLET N°\r\n                            <div>\r\n                              {this.state.pesada.palletNumero.ultusado\r\n                                ? parseInt(\r\n                                    this.state.pesada.palletNumero.ultusado,\r\n                                  ) + 1\r\n                                : this.state.pesada.palletNumero.numpal\r\n                                ? parseInt(\r\n                                    this.state.pesada.palletNumero.numpal,\r\n                                  )\r\n                                : '-'}\r\n                            </div>\r\n                          </div>\r\n                        </Column>\r\n                        <Column width=\"50%\" height=\"auto\">\r\n                          <div className={styles.numPallet}>\r\n                            LOTE N°\r\n                            <div>{this.state.pesada.lote}</div>\r\n                          </div>\r\n                        </Column>\r\n                      </Flex>\r\n                      <Flex\r\n                        classes={styles.container}\r\n                        width=\"100%\"\r\n                        height=\"33%\"\r\n                        direction=\"row\"\r\n                        alignItems=\"center\"\r\n                      >\r\n                        <Column width=\"50%\" height=\"auto\">\r\n                          {this.state.pesada.producto.descrMat || ''}\r\n                        </Column>\r\n                        <Flex\r\n                          classes={styles.container}\r\n                          width=\"55%\"\r\n                          height=\"33%\"\r\n                          direction=\"row\"\r\n                          alignItems=\"center\"\r\n                        >\r\n                          <Column width=\"33%\" height=\"auto\">\r\n                            <div className={styles.detalleBolsas}>\r\n                              MIN.\r\n                              <div>\r\n                                {Intl.NumberFormat('es-ES').format(\r\n                                  this.state.pesada.producto.pesmin || 0,\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          </Column>\r\n                          <Column width=\"33%\" height=\"auto\">\r\n                            <div\r\n                              className={[\r\n                                styles.detalleBolsas,\r\n                                this.state.pesada.pesadaCantidadBolsa !== 0\r\n                                  ? this.state.pesada.pesoManual\r\n                                    ? parseFloat(\r\n                                        this.state.pesada.valormanual /\r\n                                          this.state.pesada.pesadaCantidadBolsa,\r\n                                      ) <\r\n                                        parseFloat(\r\n                                          this.state.pesada.producto.pesmin,\r\n                                        ) ||\r\n                                      parseFloat(\r\n                                        this.state.pesada.valormanual /\r\n                                          this.state.pesada.pesadaCantidadBolsa,\r\n                                      ) >\r\n                                        parseFloat(\r\n                                          this.state.pesada.producto.pesmax,\r\n                                        )\r\n                                      ? styles.error\r\n                                      : styles.success\r\n                                    : parseFloat(\r\n                                        this.state.pesada.producto.pesmin,\r\n                                      ) <\r\n                                        parseFloat(\r\n                                          this.state.pesada.pesobalanza /\r\n                                            this.state.pesada\r\n                                              .pesadaCantidadBolsa,\r\n                                        ) ||\r\n                                      parseFloat(\r\n                                        this.state.pesada.pesobalanza /\r\n                                          this.state.pesada.pesadaCantidadBolsa,\r\n                                      ) >\r\n                                        parseFloat(\r\n                                          this.state.pesada.producto.pesmax,\r\n                                        )\r\n                                    ? styles.error\r\n                                    : styles.success\r\n                                  : styles.error,\r\n                              ].join(' ')}\r\n                            >\r\n                              PESO PROM.\r\n                              <div>\r\n                                {Intl.NumberFormat('es-ES').format(\r\n                                  this.state.pesada.pesadaCantidadBolsa !== 0\r\n                                    ? this.state.pesada.pesoManual\r\n                                      ? parseFloat(\r\n                                          this.state.pesada.valormanual /\r\n                                            this.state.pesada\r\n                                              .pesadaCantidadBolsa,\r\n                                        ).toFixed(3)\r\n                                      : parseFloat(\r\n                                          this.state.pesada.pesobalanza /\r\n                                            this.state.pesada\r\n                                              .pesadaCantidadBolsa,\r\n                                        ).toFixed(3)\r\n                                    : 0,\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          </Column>\r\n                          <Column width=\"33%\" height=\"auto\">\r\n                            <div className={styles.detalleBolsas}>\r\n                              MAX.\r\n                              <div>\r\n                                {Intl.NumberFormat('es-ES').format(\r\n                                  this.state.pesada.producto.pesmax || 0,\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          </Column>\r\n                        </Flex>\r\n                      </Flex>\r\n                      <Flex\r\n                        classes={styles.container}\r\n                        width=\"30%\"\r\n                        height=\"33%\"\r\n                        direction=\"row\"\r\n                        alignItems=\"center\"\r\n                        justifyContent=\"center\"\r\n                      >\r\n                        {/* <Column\r\n                          width=\"30%\"\r\n                          height=\"auto\"\r\n                          classes={styles.bolsas}\r\n                        >\r\n                          Cantidad de bolsas\r\n                        </Column> */}\r\n                        <Column width=\"100%\" height=\"auto\">\r\n                          <div className={styles.detalleBolsas}>\r\n                            <Input\r\n                              id=\"pesadaCantidadBolsa\"\r\n                              label={this.props.t('greentrz.cantbolasa')}\r\n                              type=\"number\"\r\n                              value={this.state.pesada.pesadaCantidadBolsa}\r\n                              onChange={this.handlerInputChange}\r\n                              classes={styles.inputs}\r\n                            />\r\n                          </div>\r\n                        </Column>\r\n                      </Flex>\r\n                      <Flex\r\n                        classes={styles.container}\r\n                        width=\"70%\"\r\n                        height=\"33%\"\r\n                        direction=\"row\"\r\n                        alignItems=\"center\"\r\n                        justifyContent=\"center\"\r\n                      >\r\n                        {/* <Column\r\n                          width=\"20%\"\r\n                          height=\"auto\"\r\n                          classes={styles.bolsas}\r\n                        >\r\n                          Observaciones\r\n                        </Column> */}\r\n                        <Column width=\"90%\" height=\"auto\">\r\n                          <div className={styles.detalleBolsas}>\r\n                            <Input\r\n                              id=\"obspallet\"\r\n                              label={this.props.t('greentrz.obspallet')}\r\n                              type=\"text\"\r\n                              value={this.state.pesada.obspallet}\r\n                              onChange={this.handlerInputChange}\r\n                              classes={styles.inputs}\r\n                            />\r\n                          </div>\r\n                        </Column>\r\n                      </Flex>\r\n                    </GroupForm>\r\n                  </Column>\r\n                  <Column\r\n                    width=\"100%\"\r\n                    height=\"40%\"\r\n                    padding=\"5px\"\r\n                    minHeight=\"145px\"\r\n                  >\r\n                    <GroupForm\r\n                      columns={true}\r\n                      height=\"100%\"\r\n                      title={\r\n                        this.state.pesada.pesoManual\r\n                          ? this.props.t('greentrz.PesoManual')\r\n                          : this.props.t('greentrz.PesoBalanza')\r\n                      }\r\n                      disabled={!this.state.pesando}\r\n                      classes={styles.groupPesada}\r\n                    >\r\n                      <div className={styles.topheader}>\r\n                        {!this.state.pesada.pesoManual ? (\r\n                          <div className={styles.estadoBalanza}>\r\n                            BALANZA: {this.state.pesada.estadobalanza}\r\n                          </div>\r\n                        ) : (\r\n                          ''\r\n                        )}\r\n                      </div>\r\n\r\n                      <div className={styles.peso}>\r\n                        {this.state.pesada.pesoManual ? (\r\n                          <div>\r\n                            <Input\r\n                              id=\"valormanual\"\r\n                              type=\"number\"\r\n                              value={this.state.pesada.valormanual}\r\n                              onChange={(e) =>\r\n                                this.setState({\r\n                                  ...this.state,\r\n                                  pesada: {\r\n                                    ...this.state.pesada,\r\n                                    valormanual: e.target.value,\r\n                                  },\r\n                                })\r\n                              }\r\n                            ></Input>{' '}\r\n                            <span>kg</span>\r\n                          </div>\r\n                        ) : (\r\n                          <div>\r\n                            {Intl.NumberFormat('es-ES').format(\r\n                              this.state.pesada.pesobalanza,\r\n                            )}{' '}\r\n                            kg\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n\r\n                      <Button\r\n                        width=\"100%\"\r\n                        heigh=\"100%\"\r\n                        visible={true}\r\n                        styleType=\"success\"\r\n                        loading={this.state.wait}\r\n                        disabled={this.state.pesada.pesadaPlanta === ''}\r\n                        text={this.props.t('greentrz.cerrarPallet')}\r\n                        id=\"cerrarPallet\"\r\n                        icon=\"save\"\r\n                        onPress={this.handlerCerrarPallet}\r\n                      ></Button>\r\n                    </GroupForm>\r\n                  </Column>\r\n                </Flex>\r\n              </Column>\r\n            </Flex>\r\n          </Flex>\r\n        </Fullscreen>\r\n      ) : (\r\n        <Flex direction=\"columns\" padding=\"0\" margin=\"0\" wrap=\"wrap\">\r\n          <Column height=\"100vh\">\r\n            <LoaderViewError\r\n              icon=\"need_param\"\r\n              title={this.props.t('error.needParamsTitle')}\r\n              message={this.props.t('error.needParamsExplain')}\r\n              data={PARAMS_NEEDS.join(', ')}\r\n            />\r\n          </Column>\r\n        </Flex>\r\n      )\r\n    ) : (\r\n      <Flex direction=\"columns\" padding=\"0\" margin=\"0\" wrap=\"wrap\">\r\n        <Column height=\"100vh\">\r\n          <LoaderViewError\r\n            icon=\"401\"\r\n            title={this.props.t('error.noAuth')}\r\n            message={this.props.t('error.noAuthMessage')}\r\n          />\r\n        </Column>\r\n      </Flex>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTranslation()(GreenPesada);\r\n","import openSocket from 'socket.io-client';\r\nimport axios from 'axios';\r\n\r\nlet socketBal = null;\r\n\r\nfunction subscribeSocketBal(trxname, cb) {\r\n  socketBal = openSocket('http://localhost:1212');\r\n  socketBal.on('connect_error', (err) => cb(err, null));\r\n  socketBal.on('pesobalanza', (pesobalanza) => cb(null, pesobalanza));\r\n  socketBal.on('miestado', (miestado) => cb(null, miestado));\r\n  socketBal.on('estadoBalanza', (estadobalanza) => cb(null, estadobalanza));\r\n  socketBal.emit('myTransactionName', trxname);\r\n  socketBal.emit('subscribeGetPesoBal', 300);\r\n  console.log('subscribe', socketBal);\r\n}\r\n\r\n// function subscribeGetPesoBal(cb) {\r\n//   socketBal = openSocket('http://localhost:1212');\r\n//   socketBal.on('pesobalanza', (pesobalanza) => cb(null, pesobalanza));\r\n//   socketBal.on('miestado', (miestado) => cb(null, miestado));\r\n//   socketBal.emit('myTransactionName', 'TRXPESADO');\r\n//   socketBal.emit('subscribeGetPesoBal', 300);\r\n//   console.log('subscribe', socketBal);\r\n// }\r\n\r\nfunction unsubscribeSocket() {\r\n  console.log('Unsubscribing', socketBal);\r\n  socketBal?.disconnect();\r\n  socketBal?.destroy();\r\n}\r\n\r\n// function subscribeGetEstadoBal(cb) {\r\n//   console.log('subscribe', socketBal);\r\n//   socketBal = openSocket('http://localhost:1212');\r\n//   socketBal.on('estadoBalanza', (estadobalanza) => cb(null, estadobalanza));\r\n//   socketBal.emit('checkEstadoBalanza', 'CHECKSTATUS');\r\n//   socketBal.emit('subscribeGetEstadoBal', 300);\r\n//   console.log('Unsubscribing', socketBal);\r\n// }\r\n\r\nfunction getAllGreenTrzProductos(planta) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../as-productos?filter={\"where\":{\"idPlanta\":' + planta + '}}',\r\n  });\r\n}\r\n\r\nfunction getGreenTrzProductosByGroup(planta, grupo) {\r\n  return axios({\r\n    method: 'GET',\r\n    url:\r\n      '../as-productos?filter={\"where\":{\"idPlanta\":' +\r\n      planta +\r\n      ',\"idGrpmat\":' +\r\n      grupo +\r\n      '}}',\r\n  });\r\n}\r\n\r\nfunction getGreenTrzProducto(planta, codsap) {\r\n  return axios({\r\n    method: 'GET',\r\n    url:\r\n      '../as-productos?filter={\"where\":{\"idPlanta\":' +\r\n      planta +\r\n      ',\"codsap\":' +\r\n      codsap +\r\n      '}}',\r\n  });\r\n}\r\n\r\nfunction getGreenTrzUltimoPallet(planta, codnumera) {\r\n  return axios({\r\n    method: 'GET',\r\n    url:\r\n      '../cod-numeras?filter={\"where\":{\"id\":' +\r\n      codnumera +\r\n      ',\"idPlanta\":' +\r\n      planta +\r\n      '}}',\r\n  });\r\n}\r\n\r\nfunction initGreenTrzAsDetipals(params) {\r\n  return axios({\r\n    method: 'POST',\r\n    url: '../as-detipals',\r\n    data: params,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\nfunction initGreenTrzAsHDetipals(params) {\r\n  return axios({\r\n    method: 'POST',\r\n    url: '../as-hdetipals',\r\n    data: params,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nfunction cerrarGreenTrzAsDetipals(params) {\r\n  return axios({\r\n    method: 'PUT',\r\n    url:\r\n      '../greentrz/' +\r\n      params.idPlanta +\r\n      '/' +\r\n      params.numpal +\r\n      '/' +\r\n      params.idArea,\r\n    data: params,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nfunction createGreenTrzAsConspalsTotal(data, estado) {\r\n  return axios({\r\n    method: 'POST',\r\n    url: '../greentrz/consumo-total/' + data.idNumpal + '/' + estado,\r\n    data: data,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nfunction createGreenTrzAsConspalsParcial(data, estado) {\r\n  return axios({\r\n    method: 'POST',\r\n    url: '../greentrz/consumo-parcial/' + data.idNumpal + '/' + estado,\r\n    data: data,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nfunction getLastPalletActivity(planta, area, puesto) {\r\n  return axios({\r\n    method: 'GET',\r\n    url:\r\n      '../as-detipals?filter={\"limit\": 10,\"skip\": 0,\"order\": [\"numpal DESC\",\"fec_prod DESC\"],\"where\":{\"idPlanta\":' +\r\n      planta +\r\n      ',\"idArea\":' +\r\n      area +\r\n      ',\"ptoPes\":' +\r\n      puesto +\r\n      ',\"idEstado\":2' +\r\n      '}}',\r\n  });\r\n}\r\n\r\nfunction getLastPalletActivityFinal(planta, area, puesto) {\r\n  return axios({\r\n    method: 'GET',\r\n    url:\r\n      '../as-detipals?filter={\"limit\": 10,\"skip\": 0,\"order\": [\"numpal DESC\",\"fec_prod DESC\"],\"where\":{\"idPlanta\":' +\r\n      planta +\r\n      ',\"idArea\":' +\r\n      area +\r\n      ',\"ptoPes\":' +\r\n      puesto +\r\n      ',\"idEstado\":5' +\r\n      '}}',\r\n  });\r\n}\r\n\r\nfunction getTotalAConsumir(planta, prodfam) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../greentrz/totalAConsumir/' + planta + '/' + prodfam,\r\n  });\r\n}\r\n\r\nfunction getTotalProducidoFinal(planta, prodfam) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../greentrz/totalProducidoFinal/' + planta + '/' + prodfam,\r\n  });\r\n}\r\n\r\nfunction getTotalConsumidoFinal(planta, prodfam) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../greentrz/totalConsumidoFinal/' + planta + '/' + prodfam,\r\n  });\r\n}\r\n\r\nfunction getLastPalletOpen(planta, area, puesto) {\r\n  return axios({\r\n    method: 'GET',\r\n    url:\r\n      '../as-detipals?filter={\"limit\": 1,\"skip\": 0,\"order\": [\"numpal DESC\"],\"where\":{\"idPlanta\":' +\r\n      planta +\r\n      ',\"idArea\":' +\r\n      area +\r\n      ',\"idEstado\":1' +\r\n      '}}',\r\n  });\r\n}\r\n\r\nfunction getLastPalletOpenProductoFinal(planta, area, puesto) {\r\n  return axios({\r\n    method: 'GET',\r\n    url:\r\n      '../as-detipals?filter={\"limit\": 1,\"skip\": 0,\"order\": [\"numpal DESC\"],\"where\":{\"idPlanta\":' +\r\n      planta +\r\n      ',\"idArea\":' +\r\n      area +\r\n      ',\"idEstado\":4' +\r\n      '}}',\r\n  });\r\n}\r\n\r\nfunction getLastPalletConsumoActivity(planta, area, puesto) {\r\n  return axios({\r\n    method: 'GET',\r\n    url:\r\n      '../as-conspals?filter={\"limit\": 15,\"skip\": 0,\"order\": [\"hcierr DESC\"],\"where\":{\"idPlanta\":' +\r\n      planta +\r\n      ',\"idArea\":' +\r\n      area +\r\n      ',\"ptoPes\":' +\r\n      puesto +\r\n      ',\"idEstado\":12' +\r\n      '}}',\r\n  });\r\n}\r\n\r\nfunction incrementNumPall(id, params) {\r\n  return axios({\r\n    method: 'PUT',\r\n    url: '../cod-numeras/' + id,\r\n    data: params,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nfunction getGreenTrxAllPalletByDay(planta, desde, hasta) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../greentrz/pallets/' + planta + '/' + desde + '/' + hasta,\r\n  });\r\n}\r\n\r\n// function getGreenTrxAllPalletByDay(planta, desde, hasta) {\r\n//   return axios({\r\n//     method: 'GET',\r\n//     url:\r\n//       '../as-detipals?filter={\"order\": [\"numpal DESC\"],\"where\":{\"idPlanta\":' +\r\n//       planta +\r\n//       ',\"idArea\":' +\r\n//       area +\r\n//       ',  \"fec_prod\": {\"gt\":' +\r\n//       desde +\r\n//       '},\"fec_prod\": {\"lt\":' +\r\n//       hasta +\r\n//       '}}}',\r\n//   });\r\n// }\r\n\r\n// function getGreenTrxAllPalletByDay(planta, area, desde, hasta) {\r\n//   return axios({\r\n//     method: 'GET',\r\n//     url: '../as-detipal/' + planta + '/' + area + '/' + desde + '/' + hasta,\r\n//   });\r\n// }\r\n\r\nfunction getGreenTrxPallet(numpal) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../greentrz/palletsByNumpal/' + numpal,\r\n  });\r\n}\r\n\r\nfunction eliminarPallet(planta, numpal, usuario) {\r\n  return axios({\r\n    method: 'DELETE',\r\n    url: '../greentrz/pallet/' + planta + '/' + numpal + '/' + usuario,\r\n  });\r\n}\r\n\r\nfunction remanejarGreenTrxPallet(data) {\r\n  return axios({\r\n    method: 'PUT',\r\n    url: '../greentrz/remanejar/' + data.numpal,\r\n    data: data,\r\n  });\r\n}\r\n\r\nfunction getAllCamaras() {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../param-cams',\r\n  });\r\n}\r\n\r\nfunction createCamara(camara) {\r\n  return axios({\r\n    method: 'POST',\r\n    url: '../param-cams/',\r\n    data: camara,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nfunction editCamara(camara) {\r\n  return axios({\r\n    method: 'PUT',\r\n    url: '../param-cams/' + camara.id,\r\n    data: camara,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nfunction eliminarCamara(id) {\r\n  return axios({\r\n    method: 'DELETE',\r\n    url: '../param-cams/' + id,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nfunction getCamarasPorPlanta(planta) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../param-cams?filter={\"where\":{\"idPlanta\":' + planta + '}}',\r\n  });\r\n}\r\n\r\nfunction getCamara(id) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../param-cams?filter={\"where\":{\"id\":' + id + '}}',\r\n  });\r\n}\r\n\r\nfunction getAllPalletByPlant(planta) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../as-detipals?filter={\"where\":{\"idPlanta\":' + planta + '}}',\r\n  });\r\n}\r\n\r\nfunction getPositionPallet(planta, camara) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../as-pospal/getPositionPallet/' + planta + '/' + camara,\r\n  });\r\n}\r\n\r\nfunction setPositionPallet(pos) {\r\n  return axios({\r\n    method: 'POST',\r\n    url: '../as-pospals',\r\n    data: pos,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nfunction putPositionPallet(pos) {\r\n  return axios({\r\n    method: 'PUT',\r\n    url: '../as-pospals/' + pos.id,\r\n    data: pos,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nfunction postPositioHistoryPallet(pos) {\r\n  return axios({\r\n    method: 'POST',\r\n    url: '../as-hpospals/',\r\n    data: pos,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nfunction putEstadoPallet(numpal, estado) {\r\n  return axios({\r\n    method: 'PUT',\r\n    url: '../as-detipal/estado-pallet/' + numpal + '/' + estado,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nfunction putPalletAConsParcial(numpal, estado, data) {\r\n  return axios({\r\n    method: 'PUT',\r\n    url: '../as-detipal/pallet-parcial/' + numpal + '/' + estado,\r\n    data: data,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nfunction deletePositionPallet(id) {\r\n  return axios({\r\n    method: 'DELETE',\r\n    url: '../as-pospals/' + id,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nfunction getPalletInCamara(planta) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../camaras/getPalletsInCamaras/' + planta,\r\n  });\r\n}\r\n\r\nfunction searchPalletInCamara(planta, numpal) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../camaras/getPalletInCamara/' + planta + '/' + numpal,\r\n  });\r\n}\r\n\r\nfunction getPalletDesasociados(planta, estados) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../as-detipal/getPalletDesasociados/' + planta + '/' + estados,\r\n  });\r\n}\r\n\r\nfunction getPalletAConsumir(planta) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../as-detipal/pallets-a-consumir/' + planta,\r\n  });\r\n}\r\n\r\nfunction getPalletConsumidos(planta) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../as-detipal/pallets-consumidos/' + planta,\r\n  });\r\n}\r\n\r\nfunction getProdFamilia(planta) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../prodfamilias?filter={\"where\":{\"idPlanta\":' + planta + '}}',\r\n  });\r\n}\r\n\r\nexport {\r\n  // subscribeGetEstadoBal,\r\n  // subscribeGetPesoBal,\r\n  cerrarGreenTrzAsDetipals,\r\n  createGreenTrzAsConspalsTotal,\r\n  createGreenTrzAsConspalsParcial,\r\n  createCamara,\r\n  getTotalConsumidoFinal,\r\n  deletePositionPallet,\r\n  editCamara,\r\n  eliminarCamara,\r\n  getProdFamilia,\r\n  getAllCamaras,\r\n  getAllGreenTrzProductos,\r\n  getTotalAConsumir,\r\n  getAllPalletByPlant,\r\n  getPalletConsumidos,\r\n  getCamara,\r\n  getCamarasPorPlanta,\r\n  getGreenTrxAllPalletByDay,\r\n  getGreenTrxPallet,\r\n  getGreenTrzProducto,\r\n  getGreenTrzProductosByGroup,\r\n  getLastPalletActivityFinal,\r\n  getGreenTrzUltimoPallet,\r\n  getLastPalletActivity,\r\n  getLastPalletOpen,\r\n  getLastPalletConsumoActivity,\r\n  getPalletAConsumir,\r\n  getPalletDesasociados,\r\n  getPalletInCamara,\r\n  getPositionPallet,\r\n  incrementNumPall,\r\n  initGreenTrzAsDetipals,\r\n  initGreenTrzAsHDetipals,\r\n  putPositionPallet,\r\n  putEstadoPallet,\r\n  putPalletAConsParcial,\r\n  remanejarGreenTrxPallet,\r\n  searchPalletInCamara,\r\n  setPositionPallet,\r\n  subscribeSocketBal,\r\n  unsubscribeSocket,\r\n  eliminarPallet,\r\n  getTotalProducidoFinal,\r\n  getLastPalletOpenProductoFinal,\r\n  postPositioHistoryPallet,\r\n};\r\n","import React, {PureComponent} from 'react';\r\nimport styles from './styles.module.scss';\r\nexport default class GroupForm extends PureComponent {\r\n  createStyles = () => {\r\n    let names = [styles.content];\r\n    if (this.props.classes) names.push(this.props.classes);\r\n    return names.join(' ');\r\n  };\r\n  render() {\r\n    let size = {\r\n      width: 'auto',\r\n      height: 'auto',\r\n    };\r\n    if (this.props.position) {\r\n      size.position = this.props.position;\r\n    }\r\n    if (this.props.top) {\r\n      size.top = this.props.top;\r\n    }\r\n    if (this.props.left) {\r\n      size.left = this.props.left;\r\n    }\r\n    if (this.props.right) {\r\n      size.right = this.props.right;\r\n    }\r\n    if (this.props.bottom) {\r\n      size.bottom = this.props.bottom;\r\n    }\r\n\r\n    if (this.props.margin) {\r\n      size.margin = this.props.margin;\r\n    }\r\n    if (this.props.padding) {\r\n      size.padding = this.props.padding;\r\n    }\r\n    if (this.props.width) {\r\n      size.width = this.props.width;\r\n    }\r\n    if (this.props.height) {\r\n      size.height = this.props.height;\r\n    }\r\n    if (this.props.overflow) {\r\n      size.overflow = this.props.overflow;\r\n    }\r\n    if (this.props.minHeight) {\r\n      size.minHeight = this.props.minHeight;\r\n    }\r\n    if (this.props.disabled) {\r\n      return (\r\n        <div className={styles.framedisable} style={size}>\r\n          <span className={styles.title}>{this.props.title}</span>\r\n          <div className={this.createStyles()}>{this.props.children}</div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className={styles.frame} style={size}>\r\n          <span className={styles.title}>{this.props.title}</span>\r\n          <div className={this.createStyles()}>{this.props.children}</div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"frame\":\"styles_frame__25tn_\",\"columns\":\"styles_columns__3Pn4b\",\"title\":\"styles_title__1TbAA\",\"content\":\"styles_content__2umkp\",\"framedisable\":\"styles_framedisable__3jgiF\"};","import axios from 'axios';\r\n\r\nfunction getPlantas() {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../plantas',\r\n  });\r\n}\r\n\r\nfunction getEmpresas() {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../empresas',\r\n  });\r\n}\r\n\r\nfunction getTurnos(planta) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../prd-turnos?filter={\"where\":{\"idPlanta\":' + planta + '}}',\r\n  });\r\n}\r\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\r\nexport {getTurnos, getEmpresas, getPlantas};\r\n","import axios from 'axios';\r\n\r\nfunction groupByParams(xs, key) {\r\n  return xs.reduce(function (rv, x) {\r\n    (rv[x[key]] = rv[x[key]] || []).push(x);\r\n    return rv;\r\n  }, {});\r\n}\r\n\r\nfunction getAllTrxParam() {\r\n  return axios({\r\n    method: 'GET',\r\n    url:\r\n      '../trxparams?filter[include][0][relation]=planta&filter[include][1][relation]=trx',\r\n  });\r\n}\r\n\r\nfunction getTrxParam(planta) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: '../trxparams?filter={\"where\":{\"idPlanta\":' + planta + '}}',\r\n  });\r\n}\r\n\r\nfunction getTrxParamByPlantaAndTrx(planta, trx) {\r\n  return axios({\r\n    method: 'GET',\r\n    url:\r\n      '../trxparams?filter={\"where\":{\"id_planta\":' +\r\n      planta +\r\n      ',\"id_trx\":' +\r\n      trx +\r\n      '}}',\r\n  });\r\n}\r\n\r\nfunction createTrxParam(param) {\r\n  return axios({method: 'POST', url: '../trxparams', data: param});\r\n}\r\n\r\nfunction editTrxParam(param) {\r\n  return axios({\r\n    method: 'PUT',\r\n    url: '../trxparams/' + param.id,\r\n    data: param,\r\n  });\r\n}\r\n\r\nfunction eliminarTrxParam(id) {\r\n  return axios({\r\n    method: 'DELETE',\r\n    url: '../trxparams/' + id,\r\n  });\r\n}\r\n\r\nasync function checkTrxParamsNeed(getting, need) {\r\n  if (!getting || !need) return;\r\n  let arrayParam = await groupByParams(getting, 'descr');\r\n  if (Object.keys(arrayParam).length !== need.length) return;\r\n  return Object.keys(arrayParam).every((e) => need.includes(e));\r\n}\r\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\r\nexport {\r\n  getTrxParam,\r\n  getAllTrxParam,\r\n  createTrxParam,\r\n  editTrxParam,\r\n  eliminarTrxParam,\r\n  getTrxParamByPlantaAndTrx,\r\n  checkTrxParamsNeed,\r\n  groupByParams,\r\n};\r\n","export default __webpack_public_path__ + \"static/media/pallet.c6ae7989.svg\";","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _fscreen = require(\"fscreen\");\n\nvar _fscreen2 = _interopRequireDefault(_fscreen);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FullScreen = function (_Component) {\n  _inherits(FullScreen, _Component);\n\n  function FullScreen(props) {\n    _classCallCheck(this, FullScreen);\n\n    var _this = _possibleConstructorReturn(this, (FullScreen.__proto__ || Object.getPrototypeOf(FullScreen)).call(this, props));\n\n    _this.fullScreenElement = null;\n    _this.detectFullScreen = _this.detectFullScreen.bind(_this);\n    return _this;\n  }\n\n  _createClass(FullScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      _fscreen2.default.addEventListener(\"fullscreenchange\", this.detectFullScreen);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      _fscreen2.default.removeEventListener(\"fullscreenchange\", this.detectFullScreen);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.handleProps(this.props);\n    }\n  }, {\n    key: \"handleProps\",\n    value: function handleProps(props) {\n      var enabled = _fscreen2.default.fullscreenElement === this.node;\n      if (enabled && !props.enabled) {\n        this.leaveFullScreen();\n      } else if (!enabled && props.enabled) {\n        this.enterFullScreen();\n      }\n    }\n  }, {\n    key: \"detectFullScreen\",\n    value: function detectFullScreen() {\n      if (_fscreen2.default.fullscreenElement === this.node) {\n        this.fullScreenElement = _fscreen2.default.fullscreenElement;\n        this.props.onChange(true);\n      } else if (!_fscreen2.default.fullscreenElement && this.fullScreenElement) {\n        this.fullScreenElement = null;\n        this.props.onChange(false);\n      }\n    }\n  }, {\n    key: \"enterFullScreen\",\n    value: function enterFullScreen() {\n      if (_fscreen2.default.fullscreenEnabled) {\n        _fscreen2.default.requestFullscreen(this.node);\n      }\n    }\n  }, {\n    key: \"leaveFullScreen\",\n    value: function leaveFullScreen() {\n      if (_fscreen2.default.fullscreenEnabled) {\n        _fscreen2.default.exitFullscreen();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var className = [\"fullscreen\"];\n      if (this.props.enabled) {\n        className.push(\"fullscreen-enabled\");\n      }\n\n      return _react2.default.createElement(\n        \"div\",\n        {\n          className: className.join(\" \"),\n          ref: function ref(node) {\n            return _this2.node = node;\n          },\n          style: this.props.enabled ? { height: \"100%\", width: \"100%\" } : undefined\n        },\n        this.props.children\n      );\n    }\n  }]);\n\n  return FullScreen;\n}(_react.Component);\n\nFullScreen.propTypes = {\n  children: _propTypes2.default.node.isRequired,\n  enabled: _propTypes2.default.bool.isRequired,\n  onChange: _propTypes2.default.func\n};\nFullScreen.defaultProps = {\n  enabled: false,\n  onChange: function onChange() {\n    return void 0;\n  }\n};\nexports.default = FullScreen;","const key = {\n  fullscreenEnabled: 0,\n  fullscreenElement: 1,\n  requestFullscreen: 2,\n  exitFullscreen: 3,\n  fullscreenchange: 4,\n  fullscreenerror: 5,\n  fullscreen: 6\n};\n\nconst webkit = [\n  'webkitFullscreenEnabled',\n  'webkitFullscreenElement',\n  'webkitRequestFullscreen',\n  'webkitExitFullscreen',\n  'webkitfullscreenchange',\n  'webkitfullscreenerror',\n  '-webkit-full-screen',\n];\n\nconst moz = [\n  'mozFullScreenEnabled',\n  'mozFullScreenElement',\n  'mozRequestFullScreen',\n  'mozCancelFullScreen',\n  'mozfullscreenchange',\n  'mozfullscreenerror',\n  '-moz-full-screen',\n];\n\nconst ms = [\n  'msFullscreenEnabled',\n  'msFullscreenElement',\n  'msRequestFullscreen',\n  'msExitFullscreen',\n  'MSFullscreenChange',\n  'MSFullscreenError',\n  '-ms-fullscreen',\n];\n\n// so it doesn't throw if no window or document\nconst document = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {};\n\nconst vendor = (\n  ('fullscreenEnabled' in document && Object.keys(key)) ||\n  (webkit[0] in document && webkit) ||\n  (moz[0] in document && moz) ||\n  (ms[0] in document && ms) ||\n  []\n);\n\nexport default {\n  requestFullscreen: element => element[vendor[key.requestFullscreen]](),\n  requestFullscreenFunction: element => element[vendor[key.requestFullscreen]],\n  get exitFullscreen() { return document[vendor[key.exitFullscreen]].bind(document); },\n  get fullscreenPseudoClass() { return `:${vendor[key.fullscreen]}`; },\n  addEventListener: (type, handler, options) => document.addEventListener(vendor[key[type]], handler, options),\n  removeEventListener: (type, handler, options) => document.removeEventListener(vendor[key[type]], handler, options),\n  get fullscreenEnabled() { return Boolean(document[vendor[key.fullscreenEnabled]]); },\n  set fullscreenEnabled(val) {},\n  get fullscreenElement() { return document[vendor[key.fullscreenElement]]; },\n  set fullscreenElement(val) {},\n  get onfullscreenchange() { return document[`on${vendor[key.fullscreenchange]}`.toLowerCase()]; },\n  set onfullscreenchange(handler) { return document[`on${vendor[key.fullscreenchange]}`.toLowerCase()] = handler; },\n  get onfullscreenerror() { return document[`on${vendor[key.fullscreenerror]}`.toLowerCase()]; },\n  set onfullscreenerror(handler) { return document[`on${vendor[key.fullscreenerror]}`.toLowerCase()] = handler; },\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"styles_form__3UDDW\",\"icon\":\"styles_icon__1n3f2\",\"shadow\":\"styles_shadow__30k4U\",\"title\":\"styles_title__FQFjr\",\"titleText\":\"styles_titleText__xh2JR\",\"eliminar\":\"styles_eliminar__1oeG5\",\"detail\":\"styles_detail__5B5aJ\",\"combos\":\"styles_combos__MEjXS\",\"fullscreenBtn\":\"styles_fullscreenBtn__1yKna\",\"topheader\":\"styles_topheader__NNyvD\",\"numPallet\":\"styles_numPallet__BnsUa\",\"detalleBolsas\":\"styles_detalleBolsas__2KKt0\",\"estadoBalaza\":\"styles_estadoBalaza__2RJ7z\",\"peso\":\"styles_peso__q7Jgj\",\"bolsas\":\"styles_bolsas__GBdmD\",\"groupPesada\":\"styles_groupPesada__3NvbY\",\"marginBottom\":\"styles_marginBottom__iS5Au\",\"listaPallet\":\"styles_listaPallet__dOd4J\",\"msg\":\"styles_msg__2qiXz\",\"error\":\"styles_error__1CX6i\",\"success\":\"styles_success__WTjAs\",\"blink\":\"styles_blink__1H5-E\",\"blink-animation\":\"styles_blink-animation__26nZd\",\"inputs\":\"styles_inputs__17QLq\"};"],"sourceRoot":""}